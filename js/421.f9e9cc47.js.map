{"version":3,"file":"js/421.f9e9cc47.js","mappings":"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","sources":["webpack://sanaapesa/./src/views/Settings.vue","webpack://sanaapesa/./src/store/taxStore.js","webpack://sanaapesa/./src/views/Settings.vue?4351"],"sourcesContent":["<template>\n  <div class=\"max-w-7xl mx-auto px-4 py-8\">\n    <div class=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg p-6\">\n      <div class=\"mb-8\">\n        <h1 class=\"text-3xl font-bold text-gray-900\">Tax Settings</h1>\n        <p class=\"mt-2 text-gray-600\">Configure tax rates and thresholds for calculations</p>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow p-6\">\n        <form @submit.prevent=\"handleSubmit\" class=\"space-y-8\">\n          <!-- Income Tax Brackets -->\n          <div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Income Tax Brackets</h3>\n            <div class=\"space-y-4\">\n              <div v-for=\"(bracket, index) in form.brackets\" :key=\"index\" class=\"p-4 bg-gray-50 rounded-lg\">\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <InputField\n                    :id=\"'bracketMin' + index\"\n                    v-model.number=\"bracket.min\"\n                    :label=\"index === 0 ? 'From (KES)' : 'From (KES)'\"\n                    type=\"number\"\n                    :error=\"bracketErrors[index]?.min\"\n                    :disabled=\"index === 0\"\n                  />\n                  <InputField\n                    :id=\"'bracketMax' + index\"\n                    v-model.number=\"bracket.max\"\n                    label=\"To (KES)\"\n                    type=\"number\"\n                    :error=\"bracketErrors[index]?.max\"\n                    :placeholder=\"index === form.brackets.length - 1 ? 'No limit' : ''\"\n                    :disabled=\"index === form.brackets.length - 1\"\n                  />\n                  <InputField\n                    :id=\"'bracketRate' + index\"\n                    v-model.number=\"bracket.rate\"\n                    label=\"Rate (%)\"\n                    type=\"number\"\n                    step=\"0.01\"\n                    :error=\"bracketErrors[index]?.rate\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- NSSF Settings -->\n          <div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">NSSF Settings</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg\">\n              <InputField\n                id=\"nssfTierIRate\"\n                v-model.number=\"form.nssfTierIRate\"\n                label=\"Tier I Rate (%)\"\n                type=\"number\"\n                step=\"0.01\"\n                :error=\"errors.nssfTierIRate\"\n              />\n              <InputField\n                id=\"nssfTierIIRate\"\n                v-model.number=\"form.nssfTierIIRate\"\n                label=\"Tier II Rate (%)\"\n                type=\"number\"\n                step=\"0.01\"\n                :error=\"errors.nssfTierIIRate\"\n              />\n              <InputField\n                id=\"nssfTierILimit\"\n                v-model.number=\"form.nssfTierILimit\"\n                label=\"Tier I Monthly Limit (KES)\"\n                type=\"number\"\n                :error=\"errors.nssfTierILimit\"\n              />\n              <InputField\n                id=\"nssfTierIILimit\"\n                v-model.number=\"form.nssfTierIILimit\"\n                label=\"Tier II Monthly Limit (KES)\"\n                type=\"number\"\n                :error=\"errors.nssfTierIILimit\"\n              />\n            </div>\n          </div>\n\n          <!-- SHIF Settings -->\n          <div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">SHIF Settings</h3>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg\">\n              <InputField\n                id=\"shifRate\"\n                v-model.number=\"form.shifRate\"\n                label=\"SHIF Rate (%)\"\n                type=\"number\"\n                step=\"0.01\"\n                :error=\"errors.shifRate\"\n              />\n              <InputField\n                id=\"shifMinContribution\"\n                v-model.number=\"form.shifMinContribution\"\n                label=\"Minimum Monthly Contribution (KES)\"\n                type=\"number\"\n                :error=\"errors.shifMinContribution\"\n              />\n              <InputField\n                id=\"shifMaxContribution\"\n                v-model.number=\"form.shifMaxContribution\"\n                label=\"Maximum Monthly Contribution (KES)\"\n                type=\"number\"\n                :error=\"errors.shifMaxContribution\"\n              />\n            </div>\n          </div>\n\n          <!-- Housing Levy Settings -->\n          <div>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Housing Levy Settings</h3>\n            <div class=\"p-4 bg-gray-50 rounded-lg\">\n              <InputField\n                id=\"housingLevyRate\"\n                v-model.number=\"form.housingLevyRate\"\n                label=\"Housing Levy Rate (%)\"\n                type=\"number\"\n                step=\"0.01\"\n                :error=\"errors.housingLevyRate\"\n              />\n            </div>\n          </div>\n\n          <!-- Submit Button -->\n          <div class=\"flex justify-end\">\n            <Button\n              type=\"submit\"\n              variant=\"kenya\"\n              :loading=\"taxStore.loading\"\n              :disabled=\"taxStore.loading\"\n            >\n              Save Changes\n            </Button>\n          </div>\n\n          <div v-if=\"taxStore.error\" class=\"mt-4 text-red-600\">\n            {{ taxStore.error }}\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue';\nimport { useTaxStore } from '../store/taxStore';\nimport InputField from '../components/InputField.vue';\nimport Button from '../components/Button.vue';\n\nexport default {\n  name: 'SettingsView',\n  components: {\n    InputField,\n    Button\n  },\n  setup() {\n    const taxStore = useTaxStore();\n    const errors = ref({});\n    const bracketErrors = ref([]);\n\n    const form = ref({\n      brackets: [\n        { min: 0, max: 24000, rate: 10 },\n        { min: 24001, max: 32333, rate: 25 },\n        { min: 32334, max: 500000, rate: 30 },\n        { min: 500001, max: 800000, rate: 32.5 },\n        { min: 800001, max: null, rate: 35 }\n      ],\n      shifRate: 2.75,\n      shifMinContribution: 300,\n      shifMaxContribution: 1000,\n      nssfTierIRate: 6,\n      nssfTierIIRate: 6,\n      nssfTierILimit: 6000,\n      nssfTierIILimit: 12000,\n      housingLevyRate: 1.5,\n      personalRelief: 28800,\n      vatRate: 16\n    });\n\n    const loadSettings = async () => {\n      try {\n        await taxStore.loadTaxRates();\n        if (taxStore.taxRates) {\n          const rates = taxStore.taxRates;\n          form.value = {\n            brackets: rates.brackets || form.value.brackets,\n            shifRate: typeof rates.shifRate === 'number' ? rates.shifRate * 100 : form.value.shifRate,\n            shifMinContribution: rates.shifMinContribution || form.value.shifMinContribution,\n            shifMaxContribution: rates.shifMaxContribution || form.value.shifMaxContribution,\n            nssfTierIRate: typeof rates.nssfTierIRate === 'number' ? rates.nssfTierIRate * 100 : form.value.nssfTierIRate,\n            nssfTierIIRate: typeof rates.nssfTierIIRate === 'number' ? rates.nssfTierIIRate * 100 : form.value.nssfTierIIRate,\n            nssfTierILimit: rates.nssfTierILimit || form.value.nssfTierILimit,\n            nssfTierIILimit: rates.nssfTierIILimit || form.value.nssfTierIILimit,\n            housingLevyRate: rates.housingLevyRate || form.value.housingLevyRate,\n            personalRelief: rates.personalRelief || form.value.personalRelief,\n            vatRate: typeof rates.vatRate === 'number' ? rates.vatRate * 100 : form.value.vatRate\n          };\n        }\n      } catch (error) {\n        console.error('Error loading tax rates:', error);\n      }\n    };\n\n    const validateForm = () => {\n      errors.value = {};\n      bracketErrors.value = [];\n      let isValid = true;\n\n      // Validate tax brackets\n      form.value.brackets.forEach((bracket, index) => {\n        const bracketError = {};\n        if (bracket.min < 0) {\n          bracketError.min = 'Minimum value cannot be negative';\n          isValid = false;\n        }\n        if (bracket.max && bracket.max <= bracket.min) {\n          bracketError.max = 'Maximum value must be greater than minimum';\n          isValid = false;\n        }\n        if (bracket.rate < 0 || bracket.rate > 100) {\n          bracketError.rate = 'Rate must be between 0 and 100';\n          isValid = false;\n        }\n        if (Object.keys(bracketError).length > 0) {\n          bracketErrors.value[index] = bracketError;\n        }\n      });\n\n      // Validate other fields\n      if (form.value.shifRate < 0 || form.value.shifRate > 100) {\n        errors.value.shifRate = 'SHIF rate must be between 0 and 100';\n        isValid = false;\n      }\n      if (form.value.shifMinContribution < 0) {\n        errors.value.shifMinContribution = 'Minimum SHIF contribution cannot be negative';\n        isValid = false;\n      }\n      if (form.value.shifMaxContribution < 0) {\n        errors.value.shifMaxContribution = 'Maximum SHIF contribution cannot be negative';\n        isValid = false;\n      }\n      if (form.value.nssfTierIRate < 0 || form.value.nssfTierIRate > 100) {\n        errors.value.nssfTierIRate = 'NSSF Tier I rate must be between 0 and 100';\n        isValid = false;\n      }\n      if (form.value.nssfTierIIRate < 0 || form.value.nssfTierIIRate > 100) {\n        errors.value.nssfTierIIRate = 'NSSF Tier II rate must be between 0 and 100';\n        isValid = false;\n      }\n      if (form.value.nssfTierILimit < 0) {\n        errors.value.nssfTierILimit = 'NSSF Tier I limit cannot be negative';\n        isValid = false;\n      }\n      if (form.value.nssfTierIILimit < 0) {\n        errors.value.nssfTierIILimit = 'NSSF Tier II limit cannot be negative';\n        isValid = false;\n      }\n      if (form.value.housingLevyRate < 0 || form.value.housingLevyRate > 100) {\n        errors.value.housingLevyRate = 'Housing levy rate must be between 0 and 100';\n        isValid = false;\n      }\n      if (form.value.personalRelief < 0) {\n        errors.value.personalRelief = 'Personal relief cannot be negative';\n        isValid = false;\n      }\n      if (form.value.vatRate < 0 || form.value.vatRate > 100) {\n        errors.value.vatRate = 'VAT rate must be between 0 and 100';\n        isValid = false;\n      }\n\n      return isValid;\n    };\n\n    const handleSubmit = async () => {\n      if (!validateForm()) return;\n\n      try {\n        await taxStore.updateRates({\n          ...form.value,\n          shifRate: form.value.shifRate / 100,\n          nssfTierIRate: form.value.nssfTierIRate / 100,\n          nssfTierIIRate: form.value.nssfTierIIRate / 100,\n          vatRate: form.value.vatRate / 100\n        });\n        // Show success message\n      } catch (error) {\n        console.error('Error saving settings:', error);\n      }\n    };\n\n    const resetForm = () => {\n      loadSettings();\n    };\n\n    onMounted(loadSettings);\n\n    return {\n      form,\n      errors,\n      bracketErrors,\n      taxStore,\n      handleSubmit,\n      resetForm\n    };\n  }\n};\n</script>\n\n<style scoped>\n.text-primary {\n  color: #16A34A;  /* text-green-600 equivalent */\n}\n\n.bg-primary {\n  background-color: #16A34A;  /* bg-green-600 equivalent */\n}\n\n.bg-primary-dark {\n  background-color: #15803D;  /* bg-green-700 equivalent */\n}\n</style>","import { defineStore } from 'pinia';\nimport { getTaxRates, getTaxSettings, saveTaxCalculation, getUserCalculations, updateTaxRates } from '../services/taxService';\nimport { calculateNetIncome, generateTaxSummary } from '../utils/taxUtils';\n\nexport const useTaxStore = defineStore('tax', {\n  state: () => ({\n    taxRates: null,\n    settings: null,\n    currentCalculation: null,\n    calculationHistory: [],\n    loading: false,\n    error: null\n  }),\n\n  actions: {\n    async initialize() {\n      await Promise.all([\n        this.loadTaxRates(),\n        this.loadSettings()\n      ]);\n    },\n\n    async loadTaxRates() {\n      try {\n        this.loading = true;\n        const currentYear = new Date().getFullYear();\n        const rates = await getTaxRates(currentYear);\n        \n        if (rates) {\n          this.taxRates = {\n            ...rates,\n            shifRate: Number(rates.shifRate || 0.0275),\n            nssfTierIRate: Number(rates.nssfTierIRate || 0.06),\n            nssfTierIIRate: Number(rates.nssfTierIIRate || 0.06),\n            vatRate: Number(rates.vatRate || 0.16),\n            housingLevyRate: Number(rates.housingLevyRate || 0.015),\n            personalRelief: Number(rates.personalRelief || 28800),\n            brackets: (rates.brackets || []).map(bracket => ({\n              min: Number(bracket.min || 0),\n              max: bracket.max === null ? null : Number(bracket.max || 0),\n              rate: Number(bracket.rate || 0)\n            }))\n          };\n        }\n      } catch (error) {\n        this.error = 'Failed to load tax rates';\n        throw error;\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async loadSettings() {\n      try {\n        this.loading = true;\n        const settings = await getTaxSettings();\n        this.settings = settings;\n      } catch (error) {\n        this.error = 'Failed to load tax settings';\n        throw error;\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async calculateTax({ annualIncome, includeNSSF = true, includeSHIF = true }) {\n      try {\n        if (!this.taxRates) {\n          throw new Error('Tax rates not loaded');\n        }\n\n        const calculation = calculateNetIncome({\n          annualIncome,\n          includeNSSF,\n          includeSHIF,\n          taxRates: this.taxRates,\n          personalRelief: this.settings?.personalReliefEnabled ? this.taxRates.personalRelief : 0\n        });\n\n        const summary = generateTaxSummary(calculation);\n        this.currentCalculation = summary;\n        return summary;\n      } catch (error) {\n        this.error = 'Failed to calculate tax';\n        throw error;\n      }\n    },\n\n    async saveCalculation(calculation, userId) {\n      if (!userId) {\n        throw new Error('User must be logged in to save calculations');\n      }\n      await saveTaxCalculation(userId, calculation);\n    },\n\n    async loadCalculationHistory(userId) {\n      if (!userId) {\n        this.calculationHistory = [];\n        return;\n      }\n\n      try {\n        this.loading = true;\n        const history = await getUserCalculations(userId);\n        this.calculationHistory = history;\n      } catch (error) {\n        this.error = 'Failed to load calculation history';\n        throw error;\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async updateRates(rates) {\n      try {\n        this.loading = true;\n        const sanitizedRates = {\n          ...rates,\n          shifRate: Number(rates.shifRate || 0),\n          nssfTierIRate: Number(rates.nssfTierIRate || 0),\n          nssfTierIIRate: Number(rates.nssfTierIIRate || 0),\n          vatRate: Number(rates.vatRate || 0),\n          housingLevyRate: Number(rates.housingLevyRate || 0),\n          personalRelief: Number(rates.personalRelief || 0),\n          brackets: (rates.brackets || []).map(bracket => ({\n            min: Number(bracket.min || 0),\n            max: bracket.max === null ? null : Number(bracket.max || 0),\n            rate: Number(bracket.rate || 0)\n          }))\n        };\n        await updateTaxRates(sanitizedRates);\n        this.taxRates = sanitizedRates;\n      } catch (error) {\n        this.error = 'Failed to update tax rates';\n        throw error;\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    clearCurrentCalculation() {\n      this.currentCalculation = null;\n    },\n\n    clearError() {\n      this.error = null;\n    }\n  },\n\n  getters: {\n    isInitialized: (state) => !!state.taxRates && !!state.settings,\n    currentTaxYear: (state) => state.taxRates?.year,\n    personalRelief: (state) => state.taxRates?.personalRelief || 0,\n    taxBrackets: (state) => state.taxRates?.brackets || [],\n    isNSSFEnabled: (state) => state.settings?.nssfEnabled,\n    isSHIFEnabled: (state) => state.settings?.shifEnabled,\n    isPersonalReliefEnabled: (state) => state.settings?.personalReliefEnabled\n  }\n});","import { render } from \"./Settings.vue?vue&type=template&id=516c8ee1&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=516c8ee1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-516c8ee1\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$setup","handleSubmit","_hoisted_4","_Fragment","_renderList","form","brackets","bracket","index","_hoisted_5","_createVNode","_component_InputField","id","modelValue","min","$event","modelModifiers","number","label","type","error","bracketErrors","disabled","max","placeholder","length","rate","step","_hoisted_6","nssfTierIRate","errors","nssfTierIIRate","nssfTierILimit","nssfTierIILimit","_hoisted_7","shifRate","shifMinContribution","shifMaxContribution","_hoisted_8","housingLevyRate","_hoisted_9","_component_Button","variant","loading","taxStore","default","_withCtx","_createTextVNode","_","_hoisted_10","_toDisplayString","_createCommentVNode","useTaxStore","defineStore","state","taxRates","settings","currentCalculation","calculationHistory","actions","initialize","Promise","all","this","loadTaxRates","loadSettings","currentYear","Date","getFullYear","rates","getTaxRates","Number","vatRate","personalRelief","map","getTaxSettings","calculateTax","annualIncome","includeNSSF","includeSHIF","Error","calculation","calculateNetIncome","personalReliefEnabled","summary","generateTaxSummary","saveCalculation","userId","saveTaxCalculation","loadCalculationHistory","history","getUserCalculations","updateRates","sanitizedRates","updateTaxRates","clearCurrentCalculation","clearError","getters","isInitialized","currentTaxYear","year","taxBrackets","isNSSFEnabled","nssfEnabled","isSHIFEnabled","shifEnabled","isPersonalReliefEnabled","name","components","InputField","Button","setup","ref","async","value","console","validateForm","isValid","forEach","bracketError","Object","keys","resetForm","onMounted","__exports__","render"],"sourceRoot":""}