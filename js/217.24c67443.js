"use strict";(self["webpackChunksanaapesa"]=self["webpackChunksanaapesa"]||[]).push([[217],{217:function(a,e,t){t.r(e),t.d(e,{default:function(){return ra}});var s=t(6768),r=t(4232);const l={class:"max-w-7xl mx-auto px-4 py-8"},o={key:0,class:"mb-6 text-right"},n={key:1,ref:"proposalContainer",class:"bg-gradient-to-br from-green-50 to-emerald-50 p-8 shadow-lg rounded-lg"},p={class:"flex justify-between items-start mb-10"},d={class:"text-3xl font-bold text-gray-900"},i={class:"text-gray-600 mt-2"},c={class:"text-gray-600"},m={class:"text-right"},v={key:0,class:"font-medium text-gray-900"},u={key:1},b={key:2},y={class:"mb-8 p-4 bg-white rounded-md shadow-sm"},k={key:0},g={class:"font-medium"},x={key:0},D={key:1},f={key:2},L={class:"mb-8 p-4 bg-white rounded-md shadow-sm"},h={class:"space-y-4"},C={class:"text-lg font-medium text-gray-800 mb-2"},w={class:"text-gray-600"},_={class:"mt-4"},E={class:"bg-gray-50 p-4 rounded-lg"},X={class:"flex justify-between mb-2"},Q={class:"text-gray-600"},j={class:"font-medium"},P={key:0,class:"flex justify-between mb-2"},T={key:1,class:"flex justify-between mb-2"},A={key:2},F={class:"text-gray-600"},S={key:3,class:"border-t border-gray-200 mt-2 pt-2"},q={key:0,class:"flex justify-between text-sm"},B={key:1,class:"flex justify-between text-sm"},N={class:"border-t border-gray-200 mt-2 pt-2"},V={class:"flex justify-between text-lg font-bold"},K={class:"text-green-600"},R={key:0,class:"mb-8 p-4 bg-white rounded-md shadow-sm"},Y={class:"text-gray-600 whitespace-pre-line"},W={key:1,class:"mb-8 p-4 bg-white rounded-md shadow-sm"},I={class:"text-gray-600 whitespace-pre-line"},M={key:2,class:"mb-8 p-4 bg-white rounded-md shadow-sm"},U={class:"text-gray-600 whitespace-pre-line"},H={key:2,class:"bg-white p-8 shadow-lg rounded-lg text-center"};function J(a,e,t,J,O,$){const z=(0,s.g2)("Button");return(0,s.uX)(),(0,s.CE)("div",l,[J.proposalData?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(z,{onClick:J.downloadAsPDF,variant:"kenya",class:"mr-4"},{default:(0,s.k6)((()=>e[0]||(e[0]=[(0,s.eW)(" Download as PDF ")]))),_:1},8,["onClick"]),(0,s.bF)(z,{onClick:J.goBack,variant:"secondary"},{default:(0,s.k6)((()=>e[1]||(e[1]=[(0,s.eW)(" Back to Planner ")]))),_:1},8,["onClick"])])):(0,s.Q3)("",!0),J.proposalData?((0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",p,[(0,s.Lk)("div",null,[(0,s.Lk)("h1",d,(0,r.v_)(J.proposalData.title),1),(0,s.Lk)("p",i,"Prepared on: "+(0,r.v_)(J.formatDate(J.proposalData.date)),1),(0,s.Lk)("p",c,"Valid until: "+(0,r.v_)(J.formatDate(J.proposalData.validUntil)),1)]),(0,s.Lk)("div",m,[J.proposalData.provider?.name?((0,s.uX)(),(0,s.CE)("p",v,(0,r.v_)(J.proposalData.provider.name),1)):(0,s.Q3)("",!0),J.proposalData.provider?.email?((0,s.uX)(),(0,s.CE)("p",u,(0,r.v_)(J.proposalData.provider.email),1)):(0,s.Q3)("",!0),J.proposalData.provider?.phone?((0,s.uX)(),(0,s.CE)("p",b,(0,r.v_)(J.proposalData.provider.phone),1)):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",y,[e[2]||(e[2]=(0,s.Lk)("h2",{class:"text-lg font-medium text-gray-900 mb-2"},"Prepared For:",-1)),J.proposalData.client?.name?((0,s.uX)(),(0,s.CE)("div",k,[(0,s.Lk)("p",g,(0,r.v_)(J.proposalData.client.name),1),J.proposalData.client?.email?((0,s.uX)(),(0,s.CE)("p",x,(0,r.v_)(J.proposalData.client.email),1)):(0,s.Q3)("",!0),J.proposalData.client?.phone?((0,s.uX)(),(0,s.CE)("p",D,(0,r.v_)(J.proposalData.client.phone),1)):(0,s.Q3)("",!0),J.proposalData.client?.address?((0,s.uX)(),(0,s.CE)("p",f,(0,r.v_)(J.proposalData.client.address),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",L,[e[11]||(e[11]=(0,s.Lk)("h2",{class:"text-xl font-bold text-gray-900 border-b pb-2 mb-4"},"Service Details",-1)),(0,s.Lk)("div",h,[(0,s.Lk)("div",null,[(0,s.Lk)("h3",C,(0,r.v_)(J.proposalData.serviceName),1),(0,s.Lk)("p",w,(0,r.v_)(J.proposalData.serviceDescription),1)]),(0,s.Lk)("div",_,[e[10]||(e[10]=(0,s.Lk)("h3",{class:"text-lg font-medium text-gray-800 mb-2"},"Pricing",-1)),(0,s.Lk)("div",E,[(0,s.Lk)("div",X,[(0,s.Lk)("span",Q,(0,r.v_)(J.proposalData.pricingLabel),1),(0,s.Lk)("span",j,(0,r.v_)(J.formatCurrency(J.proposalData.rate)),1)]),J.proposalData.quantity>1?((0,s.uX)(),(0,s.CE)("div",P,[e[3]||(e[3]=(0,s.Lk)("span",{class:"text-gray-600"},"Quantity",-1)),(0,s.Lk)("span",null,"× "+(0,r.v_)(J.proposalData.quantity),1)])):(0,s.Q3)("",!0),J.proposalData.hours?((0,s.uX)(),(0,s.CE)("div",T,[e[4]||(e[4]=(0,s.Lk)("span",{class:"text-gray-600"},"Hours",-1)),(0,s.Lk)("span",null,"× "+(0,r.v_)(J.proposalData.hours),1)])):(0,s.Q3)("",!0),J.proposalData.expenses.length>0?((0,s.uX)(),(0,s.CE)("div",A,[e[5]||(e[5]=(0,s.Lk)("div",{class:"border-t border-gray-200 my-2"},null,-1)),e[6]||(e[6]=(0,s.Lk)("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Additional Expenses:",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(J.proposalData.expenses,(a=>((0,s.uX)(),(0,s.CE)("div",{key:a.name,class:"flex justify-between text-sm"},[(0,s.Lk)("span",F,(0,r.v_)(a.name),1),(0,s.Lk)("span",null,(0,r.v_)(J.formatCurrency(a.cost)),1)])))),128))])):(0,s.Q3)("",!0),J.proposalData.isVATRegistered||J.proposalData.includeDigitalServiceTax?((0,s.uX)(),(0,s.CE)("div",S,[J.proposalData.isVATRegistered?((0,s.uX)(),(0,s.CE)("div",q,[e[7]||(e[7]=(0,s.Lk)("span",{class:"text-gray-600"},"VAT (16%)",-1)),(0,s.Lk)("span",null,(0,r.v_)(J.formatCurrency(a.calculateVAT())),1)])):(0,s.Q3)("",!0),J.proposalData.includeDigitalServiceTax?((0,s.uX)(),(0,s.CE)("div",B,[e[8]||(e[8]=(0,s.Lk)("span",{class:"text-gray-600"},"Digital Service Tax (1.5%)",-1)),(0,s.Lk)("span",null,(0,r.v_)(J.formatCurrency(a.calculateDST())),1)])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),(0,s.Lk)("div",N,[(0,s.Lk)("div",V,[e[9]||(e[9]=(0,s.Lk)("span",{class:"text-gray-900"},"Total",-1)),(0,s.Lk)("span",K,(0,r.v_)(J.formatCurrency(a.calculateTotal())),1)])])])])])]),J.proposalData.timeline?((0,s.uX)(),(0,s.CE)("div",R,[e[12]||(e[12]=(0,s.Lk)("h2",{class:"text-xl font-bold text-gray-900 border-b pb-2 mb-4"},"Project Timeline",-1)),(0,s.Lk)("div",Y,(0,r.v_)(J.proposalData.timeline),1)])):(0,s.Q3)("",!0),J.proposalData.terms?((0,s.uX)(),(0,s.CE)("div",W,[e[13]||(e[13]=(0,s.Lk)("h2",{class:"text-xl font-bold text-gray-900 border-b pb-2 mb-4"},"Terms & Conditions",-1)),(0,s.Lk)("div",I,(0,r.v_)(J.proposalData.terms),1)])):(0,s.Q3)("",!0),J.proposalData.notes?((0,s.uX)(),(0,s.CE)("div",M,[e[14]||(e[14]=(0,s.Lk)("h2",{class:"text-xl font-bold text-gray-900 border-b pb-2 mb-4"},"Additional Notes",-1)),(0,s.Lk)("div",U,(0,r.v_)(J.proposalData.notes),1)])):(0,s.Q3)("",!0),e[15]||(e[15]=(0,s.Fv)('<div class="mt-12 p-4 bg-white rounded-md shadow-sm" data-v-6d58db3a><div class="grid grid-cols-2 gap-12" data-v-6d58db3a><div data-v-6d58db3a><p class="text-gray-600 mb-12" data-v-6d58db3a>Client Acceptance:</p><div class="border-b border-gray-400 pb-2" data-v-6d58db3a></div><p class="text-sm text-gray-500 mt-2" data-v-6d58db3a>Name and Signature</p></div><div data-v-6d58db3a><p class="text-gray-600 mb-12" data-v-6d58db3a>Date:</p><div class="border-b border-gray-400 pb-2" data-v-6d58db3a></div><p class="text-sm text-gray-500 mt-2" data-v-6d58db3a>DD/MM/YYYY</p></div></div></div>',1))],512)):((0,s.uX)(),(0,s.CE)("div",H,[e[17]||(e[17]=(0,s.Lk)("p",{class:"text-gray-600"},"No proposal data available",-1)),(0,s.bF)(z,{onClick:J.goBack,variant:"secondary",class:"mt-4"},{default:(0,s.k6)((()=>e[16]||(e[16]=[(0,s.eW)(" Back to Planner ")]))),_:1},8,["onClick"])]))])}t(4114);var O=t(144),$=t(1387),z=t(143),G=t(6420),Z=t(2328),aa=t.n(Z),ea={name:"ProposalDocument",setup(){const a=(0,$.rd)(),e=(0,$.lq)(),t=(0,O.KR)(null),r=(0,O.KR)(null);(0,s.sV)((()=>{try{if(e.query.project){const a=JSON.parse(e.query.project);t.value=(0,G.Ux)(a)}}catch(a){console.error("Error generating proposal:",a)}}));const l=a=>{if(!a)return"";const e=a instanceof Date?a:new Date(a);return e.toLocaleDateString("en-KE",{year:"numeric",month:"long",day:"numeric"})},o=()=>{a.push("/billing-planner")},n=()=>{const a=r.value,e={margin:10,filename:`Proposal-${t.value.serviceName.replace(/\s+/g,"-")}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};aa()().set(e).from(a).save()};return{proposalData:t,proposalContainer:r,formatDate:l,formatCurrency:z.vv,goBack:o,downloadAsPDF:n}}},ta=t(1241);const sa=(0,ta.A)(ea,[["render",J],["__scopeId","data-v-6d58db3a"]]);var ra=sa}}]);
//# sourceMappingURL=217.24c67443.js.map