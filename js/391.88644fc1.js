"use strict";(self["webpackChunksanaapesa"]=self["webpackChunksanaapesa"]||[]).push([[391,836],{5760:function(e,t,a){a.r(t),a.d(t,{default:function(){return sa}});var r=a(6768);const o={class:"max-w-7xl mx-auto px-4 py-8"},l={class:"flex flex-col lg:flex-row gap-6"},s={class:"w-full lg:w-1/3"},n={class:"w-full lg:w-2/3"},i={class:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 min-h-[600px]"},d={key:5,class:"space-y-6"};function u(e,t,a,u,c,m){const p=(0,r.g2)("ProfileNavigation"),g=(0,r.g2)("SavedItemsList"),y=(0,r.g2)("BillingHistoryTable"),v=(0,r.g2)("ProposalsList"),f=(0,r.g2)("PersonalInfoForm"),b=(0,r.g2)("CompanyDetailsForm"),k=(0,r.g2)("Settings");return(0,r.uX)(),(0,r.CE)("div",o,[t[4]||(t[4]=(0,r.Fv)('<div class="mb-8" data-v-7cff5952><div class="flex items-center space-x-3 mb-4" data-v-7cff5952><span class="inline-block px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800" data-v-7cff5952> My Account </span></div><h1 class="text-3xl font-bold text-gray-900 mb-3 gradient-heading" data-v-7cff5952>User Profile</h1><p class="text-lg text-gray-600" data-v-7cff5952>Manage your account, saved items, and settings</p></div>',1)),(0,r.Lk)("div",l,[(0,r.Lk)("div",s,[(0,r.bF)(p,{modelValue:u.activeTab,"onUpdate:modelValue":t[0]||(t[0]=e=>u.activeTab=e),"user-name":u.userName,"user-email":u.userEmail,onLogout:u.logout},null,8,["modelValue","user-name","user-email","onLogout"])]),(0,r.Lk)("div",n,[(0,r.Lk)("div",i,["saved"===u.activeTab?((0,r.uX)(),(0,r.Wv)(g,{key:0,items:u.savedItems,loading:u.loading,onView:u.viewItem,onDelete:u.deleteItem},null,8,["items","loading","onView","onDelete"])):(0,r.Q3)("",!0),"billing"===u.activeTab?((0,r.uX)(),(0,r.Wv)(y,{key:1,invoices:u.billingHistory,loading:u.loading,onView:u.viewInvoice,onDownload:u.downloadInvoice},null,8,["invoices","loading","onView","onDownload"])):(0,r.Q3)("",!0),"proposals"===u.activeTab?((0,r.uX)(),(0,r.Wv)(v,{key:2,proposals:u.proposals,loading:u.loading,onView:u.viewProposal},null,8,["proposals","loading","onView"])):(0,r.Q3)("",!0),"personal"===u.activeTab?((0,r.uX)(),(0,r.Wv)(f,{key:3,modelValue:u.personalInfo,"onUpdate:modelValue":t[1]||(t[1]=e=>u.personalInfo=e),loading:u.profileLoading,onSubmit:u.updatePersonalInfo},null,8,["modelValue","loading","onSubmit"])):(0,r.Q3)("",!0),"company"===u.activeTab?((0,r.uX)(),(0,r.Wv)(b,{key:4,modelValue:u.companyInfo,"onUpdate:modelValue":t[2]||(t[2]=e=>u.companyInfo=e),loading:u.profileLoading,onSubmit:u.updateCompanyInfo},null,8,["modelValue","loading","onSubmit"])):(0,r.Q3)("",!0),"settings"===u.activeTab?((0,r.uX)(),(0,r.CE)("div",d,[t[3]||(t[3]=(0,r.Fv)('<div class="flex justify-between items-center mb-6" data-v-7cff5952><h2 class="text-xl font-bold text-gray-900 flex items-center" data-v-7cff5952><svg class="w-5 h-5 mr-2 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7cff5952><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" data-v-7cff5952></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-v-7cff5952></path></svg> Tax Settings </h2></div>',1)),(0,r.bF)(k)])):(0,r.Q3)("",!0)])])])])}a(4114),a(8111),a(2489);var c=a(144),m=a(1387),p=a(1394),g=a(7617),y=a(6421),v=a(4232);const f={class:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 sticky top-20 space-y-6"},b={class:"flex flex-col items-center text-center p-6 border-b border-gray-100"},k={class:"w-24 h-24 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl font-semibold mb-4"},x={class:"text-xl font-bold text-gray-800"},h={class:"text-gray-500 mt-1"},w={class:"mt-4"},L={class:"space-y-1"},C=["onClick"];function V(e,t,a,o,l,s){return(0,r.uX)(),(0,r.CE)("div",f,[(0,r.Lk)("div",b,[(0,r.Lk)("div",k,(0,v.v_)(o.userInitials),1),(0,r.Lk)("h2",x,(0,v.v_)(a.userName||"User"),1),(0,r.Lk)("p",h,(0,v.v_)(a.userEmail),1),(0,r.Lk)("div",w,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("logout")),class:"text-sm font-medium text-red-600 hover:text-red-800 transition-colors"}," Sign out ")])]),(0,r.Lk)("nav",L,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.navigationItems,(t=>((0,r.uX)(),(0,r.CE)("button",{key:t.id,onClick:a=>e.$emit("update:modelValue",t.id),class:(0,v.C4)(["w-full flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors",a.modelValue===t.id?"bg-green-50 text-green-700 border-l-4 border-green-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"])},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(t.icon),{class:"mr-3 h-5 w-5"})),(0,r.eW)(" "+(0,v.v_)(t.label),1)],10,C)))),128))])])}a(1701);function N(e,t){return(0,r.uX)(),(0,r.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function I(e,t){return(0,r.uX)(),(0,r.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"})])}function E(e,t){return(0,r.uX)(),(0,r.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function j(e,t){return(0,r.uX)(),(0,r.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function A(e,t){return(0,r.uX)(),(0,r.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"})])}function M(e,t){return(0,r.uX)(),(0,r.CE)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}var $={name:"ProfileNavigation",components:{BookmarkIcon:N,CalculatorIcon:I,DocumentTextIcon:E,UserIcon:j,BuildingOffice2Icon:A,Cog6ToothIcon:M},props:{modelValue:{type:String,required:!0},userName:{type:String,default:""},userEmail:{type:String,required:!0}},emits:["update:modelValue","logout"],setup(e){const t=[{id:"saved",label:"Saved Items",icon:N},{id:"billing",label:"Billing History",icon:I},{id:"proposals",label:"Proposals",icon:E},{id:"personal",label:"Personal Info",icon:j},{id:"company",label:"Company Details",icon:A},{id:"settings",label:"Tax Settings",icon:M}],a=(0,r.EW)((()=>e.userName?e.userName.split(" ").map((e=>e.charAt(0))).join("").toUpperCase():e.userEmail?e.userEmail.charAt(0).toUpperCase():"U"));return{navigationItems:t,userInitials:a}}},P=a(1241);const X=(0,P.A)($,[["render",V]]);var B=X,T=a(5130);const D={class:"space-y-6"},H={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},S={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},U=["value"],_=["value"],R=["value"],F=["value"],Z={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},z=["value"],W=["value"],O=["value"],Q=["value"],q={class:"md:col-span-2"},G=["value"],Y={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ee=["value"],te=["value"],ae={class:"flex justify-end"},re=["disabled"],oe={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function le(e,t,a,o,l,s){return(0,r.uX)(),(0,r.CE)("div",D,[t[30]||(t[30]=(0,r.Lk)("div",{class:"flex justify-between items-center mb-6"},[(0,r.Lk)("h2",{class:"text-xl font-bold text-gray-900 flex items-center"},[(0,r.Lk)("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),(0,r.eW)(" Personal Information ")])],-1)),(0,r.Lk)("form",{onSubmit:t[10]||(t[10]=(0,T.D$)((t=>e.$emit("submit")),["prevent"])),class:"space-y-6"},[(0,r.Lk)("div",H,[t[17]||(t[17]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Basic Information",-1)),(0,r.Lk)("div",S,[(0,r.Lk)("div",null,[t[11]||(t[11]=(0,r.Lk)("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"},"First Name",-1)),(0,r.Lk)("input",{id:"firstName",value:a.modelValue.firstName,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",{...a.modelValue,firstName:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,U)]),(0,r.Lk)("div",null,[t[12]||(t[12]=(0,r.Lk)("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"},"Last Name",-1)),(0,r.Lk)("input",{id:"lastName",value:a.modelValue.lastName,onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",{...a.modelValue,lastName:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,_)]),(0,r.Lk)("div",null,[t[13]||(t[13]=(0,r.Lk)("label",{for:"displayName",class:"block text-sm font-medium text-gray-700 mb-1"},"Display Name",-1)),(0,r.Lk)("input",{id:"displayName",value:a.modelValue.displayName,onInput:t[2]||(t[2]=t=>e.$emit("update:modelValue",{...a.modelValue,displayName:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,R),t[14]||(t[14]=(0,r.Lk)("p",{class:"mt-1 text-xs text-gray-500"},"This is how your name will appear on invoices and proposals",-1))]),(0,r.Lk)("div",null,[t[15]||(t[15]=(0,r.Lk)("label",{for:"emailAddress",class:"block text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),(0,r.Lk)("input",{id:"emailAddress",value:a.modelValue.email,type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50",disabled:""},null,8,F),t[16]||(t[16]=(0,r.Lk)("p",{class:"mt-1 text-xs text-gray-500"},"Your email address cannot be changed",-1))])])]),(0,r.Lk)("div",Z,[t[24]||(t[24]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Contact Information",-1)),(0,r.Lk)("div",K,[(0,r.Lk)("div",null,[t[18]||(t[18]=(0,r.Lk)("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),(0,r.Lk)("input",{id:"phone",value:a.modelValue.phone,onInput:t[3]||(t[3]=t=>e.$emit("update:modelValue",{...a.modelValue,phone:t.target.value})),type:"tel",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,z)]),(0,r.Lk)("div",null,[t[19]||(t[19]=(0,r.Lk)("label",{for:"address",class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),(0,r.Lk)("input",{id:"address",value:a.modelValue.address,onInput:t[4]||(t[4]=t=>e.$emit("update:modelValue",{...a.modelValue,address:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,W)]),(0,r.Lk)("div",null,[t[20]||(t[20]=(0,r.Lk)("label",{for:"city",class:"block text-sm font-medium text-gray-700 mb-1"},"City",-1)),(0,r.Lk)("input",{id:"city",value:a.modelValue.city,onInput:t[5]||(t[5]=t=>e.$emit("update:modelValue",{...a.modelValue,city:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,O)]),(0,r.Lk)("div",null,[t[21]||(t[21]=(0,r.Lk)("label",{for:"postalCode",class:"block text-sm font-medium text-gray-700 mb-1"},"Postal Code",-1)),(0,r.Lk)("input",{id:"postalCode",value:a.modelValue.postalCode,onInput:t[6]||(t[6]=t=>e.$emit("update:modelValue",{...a.modelValue,postalCode:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Q)]),(0,r.Lk)("div",q,[t[23]||(t[23]=(0,r.Lk)("label",{for:"country",class:"block text-sm font-medium text-gray-700 mb-1"},"Country",-1)),(0,r.Lk)("select",{id:"country",value:a.modelValue.country,onChange:t[7]||(t[7]=t=>e.$emit("update:modelValue",{...a.modelValue,country:t.target.value})),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},t[22]||(t[22]=[(0,r.Fv)('<option value="Kenya">Kenya</option><option value="Uganda">Uganda</option><option value="Tanzania">Tanzania</option><option value="Rwanda">Rwanda</option><option value="Other">Other</option>',5)]),40,G)])])]),(0,r.Lk)("div",Y,[t[27]||(t[27]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Tax Information",-1)),(0,r.Lk)("div",J,[(0,r.Lk)("div",null,[t[25]||(t[25]=(0,r.Lk)("label",{for:"taxId",class:"block text-sm font-medium text-gray-700 mb-1"},"Tax ID / PIN",-1)),(0,r.Lk)("input",{id:"taxId",value:a.modelValue.taxId,onInput:t[8]||(t[8]=t=>e.$emit("update:modelValue",{...a.modelValue,taxId:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,ee)]),(0,r.Lk)("div",null,[t[26]||(t[26]=(0,r.Lk)("label",{for:"vatNumber",class:"block text-sm font-medium text-gray-700 mb-1"},"VAT Number (if applicable)",-1)),(0,r.Lk)("input",{id:"vatNumber",value:a.modelValue.vatNumber,onInput:t[9]||(t[9]=t=>e.$emit("update:modelValue",{...a.modelValue,vatNumber:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,te)])])]),(0,r.Lk)("div",ae,[(0,r.Lk)("button",{type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",disabled:a.loading},[a.loading?((0,r.uX)(),(0,r.CE)("svg",oe,t[28]||(t[28]=[(0,r.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,r.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(0,r.Q3)("",!0),t[29]||(t[29]=(0,r.eW)(" Save Changes "))],8,re)])],32)])}var se={name:"PersonalInfoForm",props:{modelValue:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["submit","update:modelValue"]};const ne=(0,P.A)(se,[["render",le]]);var ie=ne;const de={class:"space-y-6"},ue={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},ce={class:"grid grid-cols-1 gap-6"},me=["value"],pe=["value"],ge=["value"],ye=["value"],ve={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},be={class:"md:col-span-2"},ke=["value"],xe=["value"],he=["value"],we={class:"md:col-span-2"},Le=["value"],Ce={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ne=["value"],Ie=["value"],Ee=["value"],je=["value"],Ae={class:"bg-gray-50 p-6 rounded-lg border border-gray-200"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$e={class:"md:col-span-2"},Pe=["value"],Xe=["value"],Be=["value"],Te=["value"],De=["value"],He={class:"flex justify-end"},Se=["disabled"],Ue={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function _e(e,t,a,o,l,s){return(0,r.uX)(),(0,r.CE)("div",de,[(0,r.Lk)("form",{onSubmit:t[17]||(t[17]=(0,T.D$)((t=>e.$emit("submit")),["prevent"])),class:"space-y-6"},[(0,r.Lk)("div",ue,[t[22]||(t[22]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Company Information",-1)),(0,r.Lk)("div",ce,[(0,r.Lk)("div",null,[t[18]||(t[18]=(0,r.Lk)("label",{for:"companyName",class:"block text-sm font-medium text-gray-700 mb-1"},"Company Name",-1)),(0,r.Lk)("input",{id:"companyName",value:a.modelValue.name,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",{...a.modelValue,name:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,me)]),(0,r.Lk)("div",null,[t[19]||(t[19]=(0,r.Lk)("label",{for:"companyEmail",class:"block text-sm font-medium text-gray-700 mb-1"},"Company Email",-1)),(0,r.Lk)("input",{id:"companyEmail",value:a.modelValue.email,onInput:t[1]||(t[1]=t=>e.$emit("update:modelValue",{...a.modelValue,email:t.target.value})),type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,pe)]),(0,r.Lk)("div",null,[t[20]||(t[20]=(0,r.Lk)("label",{for:"companyPhone",class:"block text-sm font-medium text-gray-700 mb-1"},"Company Phone",-1)),(0,r.Lk)("input",{id:"companyPhone",value:a.modelValue.phone,onInput:t[2]||(t[2]=t=>e.$emit("update:modelValue",{...a.modelValue,phone:t.target.value})),type:"tel",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,ge)]),(0,r.Lk)("div",null,[t[21]||(t[21]=(0,r.Lk)("label",{for:"website",class:"block text-sm font-medium text-gray-700 mb-1"},"Website",-1)),(0,r.Lk)("input",{id:"website",value:a.modelValue.website,onInput:t[3]||(t[3]=t=>e.$emit("update:modelValue",{...a.modelValue,website:t.target.value})),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,ye)])])]),(0,r.Lk)("div",ve,[t[28]||(t[28]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Company Address",-1)),(0,r.Lk)("div",fe,[(0,r.Lk)("div",be,[t[23]||(t[23]=(0,r.Lk)("label",{for:"companyAddress",class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),(0,r.Lk)("input",{id:"companyAddress",value:a.modelValue.address,onInput:t[4]||(t[4]=t=>e.$emit("update:modelValue",{...a.modelValue,address:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,ke)]),(0,r.Lk)("div",null,[t[24]||(t[24]=(0,r.Lk)("label",{for:"companyCity",class:"block text-sm font-medium text-gray-700 mb-1"},"City",-1)),(0,r.Lk)("input",{id:"companyCity",value:a.modelValue.city,onInput:t[5]||(t[5]=t=>e.$emit("update:modelValue",{...a.modelValue,city:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,xe)]),(0,r.Lk)("div",null,[t[25]||(t[25]=(0,r.Lk)("label",{for:"companyPostalCode",class:"block text-sm font-medium text-gray-700 mb-1"},"Postal Code",-1)),(0,r.Lk)("input",{id:"companyPostalCode",value:a.modelValue.postalCode,onInput:t[6]||(t[6]=t=>e.$emit("update:modelValue",{...a.modelValue,postalCode:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,he)]),(0,r.Lk)("div",we,[t[27]||(t[27]=(0,r.Lk)("label",{for:"companyCountry",class:"block text-sm font-medium text-gray-700 mb-1"},"Country",-1)),(0,r.Lk)("select",{id:"companyCountry",value:a.modelValue.country,onChange:t[7]||(t[7]=t=>e.$emit("update:modelValue",{...a.modelValue,country:t.target.value})),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},t[26]||(t[26]=[(0,r.Fv)('<option value="Kenya">Kenya</option><option value="Uganda">Uganda</option><option value="Tanzania">Tanzania</option><option value="Rwanda">Rwanda</option><option value="Other">Other</option>',5)]),40,Le)])])]),(0,r.Lk)("div",Ce,[t[33]||(t[33]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Business Registration & Tax",-1)),(0,r.Lk)("div",Ve,[(0,r.Lk)("div",null,[t[29]||(t[29]=(0,r.Lk)("label",{for:"businessRegNumber",class:"block text-sm font-medium text-gray-700 mb-1"},"Business Registration Number",-1)),(0,r.Lk)("input",{id:"businessRegNumber",value:a.modelValue.regNumber,onInput:t[8]||(t[8]=t=>e.$emit("update:modelValue",{...a.modelValue,regNumber:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Ne)]),(0,r.Lk)("div",null,[t[30]||(t[30]=(0,r.Lk)("label",{for:"companyTaxId",class:"block text-sm font-medium text-gray-700 mb-1"},"Tax ID / PIN",-1)),(0,r.Lk)("input",{id:"companyTaxId",value:a.modelValue.taxId,onInput:t[9]||(t[9]=t=>e.$emit("update:modelValue",{...a.modelValue,taxId:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Ie)]),(0,r.Lk)("div",null,[t[31]||(t[31]=(0,r.Lk)("label",{for:"companyVatNumber",class:"block text-sm font-medium text-gray-700 mb-1"},"VAT Number (if applicable)",-1)),(0,r.Lk)("input",{id:"companyVatNumber",value:a.modelValue.vatNumber,onInput:t[10]||(t[10]=t=>e.$emit("update:modelValue",{...a.modelValue,vatNumber:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Ee)]),(0,r.Lk)("div",null,[t[32]||(t[32]=(0,r.Lk)("label",{for:"vatRate",class:"block text-sm font-medium text-gray-700 mb-1"},"Default VAT Rate (%)",-1)),(0,r.Lk)("input",{id:"vatRate",value:a.modelValue.vatRate,onInput:t[11]||(t[11]=t=>e.$emit("update:modelValue",{...a.modelValue,vatRate:parseFloat(t.target.value)||0})),type:"number",min:"0",max:"100",step:"0.01",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,je)])])]),(0,r.Lk)("div",Ae,[t[39]||(t[39]=(0,r.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Payment Information",-1)),(0,r.Lk)("div",Me,[(0,r.Lk)("div",$e,[t[34]||(t[34]=(0,r.Lk)("label",{for:"bankName",class:"block text-sm font-medium text-gray-700 mb-1"},"Bank Name",-1)),(0,r.Lk)("input",{id:"bankName",value:a.modelValue.bankName,onInput:t[12]||(t[12]=t=>e.$emit("update:modelValue",{...a.modelValue,bankName:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Pe)]),(0,r.Lk)("div",null,[t[35]||(t[35]=(0,r.Lk)("label",{for:"accountName",class:"block text-sm font-medium text-gray-700 mb-1"},"Account Name",-1)),(0,r.Lk)("input",{id:"accountName",value:a.modelValue.accountName,onInput:t[13]||(t[13]=t=>e.$emit("update:modelValue",{...a.modelValue,accountName:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Xe)]),(0,r.Lk)("div",null,[t[36]||(t[36]=(0,r.Lk)("label",{for:"accountNumber",class:"block text-sm font-medium text-gray-700 mb-1"},"Account Number",-1)),(0,r.Lk)("input",{id:"accountNumber",value:a.modelValue.accountNumber,onInput:t[14]||(t[14]=t=>e.$emit("update:modelValue",{...a.modelValue,accountNumber:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Be)]),(0,r.Lk)("div",null,[t[37]||(t[37]=(0,r.Lk)("label",{for:"branchCode",class:"block text-sm font-medium text-gray-700 mb-1"},"Branch / Sort Code",-1)),(0,r.Lk)("input",{id:"branchCode",value:a.modelValue.branchCode,onInput:t[15]||(t[15]=t=>e.$emit("update:modelValue",{...a.modelValue,branchCode:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,Te)]),(0,r.Lk)("div",null,[t[38]||(t[38]=(0,r.Lk)("label",{for:"swiftCode",class:"block text-sm font-medium text-gray-700 mb-1"},"SWIFT Code",-1)),(0,r.Lk)("input",{id:"swiftCode",value:a.modelValue.swiftCode,onInput:t[16]||(t[16]=t=>e.$emit("update:modelValue",{...a.modelValue,swiftCode:t.target.value})),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"},null,40,De)])])]),(0,r.Lk)("div",He,[(0,r.Lk)("button",{type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",disabled:a.loading},[a.loading?((0,r.uX)(),(0,r.CE)("svg",Ue,t[40]||(t[40]=[(0,r.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,r.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(0,r.Q3)("",!0),t[41]||(t[41]=(0,r.eW)(" Save Changes "))],8,Se)])],32)])}var Re={name:"CompanyDetailsForm",props:{modelValue:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["submit","update:modelValue"],setup(){return{}}};const Fe=(0,P.A)(Re,[["render",_e]]);var Ze=Fe;const Ke={class:"space-y-6"},ze={key:0,class:"flex justify-center py-8"},We={key:1,class:"text-center py-12"},Oe={class:"mt-6"},Qe={key:2,class:"grid grid-cols-1 gap-6"},qe={class:"flex items-center justify-between"},Ge={class:"flex items-center"},Ye={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Je={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},et={key:2,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tt={class:"text-sm font-medium text-gray-900"},at={class:"text-xs text-gray-500"},rt={class:"flex space-x-2"},ot=["onClick"],lt=["onClick"],st={class:"mt-3 border-t border-gray-100 pt-3"},nt={key:0,class:"flex justify-between text-sm"},it={class:"font-medium"},dt={key:1,class:"flex justify-between text-sm"},ut={class:"font-medium"},ct={key:2,class:"flex justify-between text-sm"},mt={class:"font-medium"};function pt(e,t,a,o,l,s){const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Ke,[t[13]||(t[13]=(0,r.Lk)("div",{class:"flex justify-between items-center mb-6"},[(0,r.Lk)("h2",{class:"text-xl font-bold text-gray-900 flex items-center"},[(0,r.Lk)("svg",{class:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})]),(0,r.eW)(" Saved Items ")])],-1)),a.loading?((0,r.uX)(),(0,r.CE)("div",ze,t[0]||(t[0]=[(0,r.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"},null,-1)]))):0===a.items.length?((0,r.uX)(),(0,r.CE)("div",We,[t[2]||(t[2]=(0,r.Lk)("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),t[3]||(t[3]=(0,r.Lk)("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No saved items",-1)),t[4]||(t[4]=(0,r.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"Get started by saving your tax calculations, invoices, or proposals.",-1)),(0,r.Lk)("div",Oe,[(0,r.bF)(n,{to:"/tax-calculator",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none"},{default:(0,r.k6)((()=>t[1]||(t[1]=[(0,r.Lk)("svg",{class:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),(0,r.eW)(" Create calculation ")]))),_:1})])])):((0,r.uX)(),(0,r.CE)("div",Qe,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.items,((a,l)=>((0,r.uX)(),(0,r.CE)("div",{key:l,class:"bg-white p-4 rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200"},[(0,r.Lk)("div",qe,[(0,r.Lk)("div",Ge,[(0,r.Lk)("div",{class:(0,v.C4)(["p-2 mr-4",o.getItemTypeClasses(a.type)])},["tax"===a.type?((0,r.uX)(),(0,r.CE)("svg",Ye,t[5]||(t[5]=[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)]))):"invoice"===a.type?((0,r.uX)(),(0,r.CE)("svg",Je,t[6]||(t[6]=[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},null,-1)]))):"proposal"===a.type?((0,r.uX)(),(0,r.CE)("svg",et,t[7]||(t[7]=[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)]))):(0,r.Q3)("",!0)],2),(0,r.Lk)("div",null,[(0,r.Lk)("h3",tt,(0,v.v_)(a.title||o.getDefaultTitle(a)),1),(0,r.Lk)("p",at,(0,v.v_)(o.formatDate(a.date))+" Â· "+(0,v.v_)(o.getItemTypeLabel(a.type)),1)])]),(0,r.Lk)("div",rt,[(0,r.Lk)("button",{onClick:t=>e.$emit("view",a),class:"text-gray-400 hover:text-gray-600"},t[8]||(t[8]=[(0,r.Lk)("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,ot),(0,r.Lk)("button",{onClick:t=>e.$emit("delete",a),class:"text-gray-400 hover:text-red-600"},t[9]||(t[9]=[(0,r.Lk)("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,lt)])]),(0,r.Lk)("div",st,["tax"===a.type?((0,r.uX)(),(0,r.CE)("div",nt,[t[10]||(t[10]=(0,r.Lk)("span",{class:"text-gray-600"},"Annual Income:",-1)),(0,r.Lk)("span",it,(0,v.v_)(o.formatCurrency(a.grossIncome)),1)])):"invoice"===a.type?((0,r.uX)(),(0,r.CE)("div",dt,[t[11]||(t[11]=(0,r.Lk)("span",{class:"text-gray-600"},"Amount:",-1)),(0,r.Lk)("span",ut,(0,v.v_)(o.formatCurrency(a.totalAmount)),1)])):"proposal"===a.type?((0,r.uX)(),(0,r.CE)("div",ct,[t[12]||(t[12]=(0,r.Lk)("span",{class:"text-gray-600"},"Project Value:",-1)),(0,r.Lk)("span",mt,(0,v.v_)(o.formatCurrency(a.projectValue)),1)])):(0,r.Q3)("",!0)])])))),128))]))])}var gt=a(143),yt={name:"SavedItemsList",props:{items:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["view","delete"],setup(){const e=e=>{switch(e){case"tax":return"bg-green-100 rounded-lg text-green-700";case"invoice":return"bg-blue-100 rounded-lg text-blue-700";case"proposal":return"bg-purple-100 rounded-lg text-purple-700";default:return"bg-gray-100 rounded-lg text-gray-700"}},t=e=>{switch(e){case"tax":return"Tax Calculation";case"invoice":return"Invoice";case"proposal":return"Proposal";default:return"Item"}},a=e=>{switch(e.type){case"tax":return`Tax Calculation - ${(0,gt.vv)(e.grossIncome)}`;case"invoice":return`Invoice ${e.invoiceNumber||""}`;case"proposal":return`Proposal for ${e.clientName||"Client"}`;default:return"Untitled Item"}},r=e=>e?("string"===typeof e&&(e=new Date(e)),e instanceof Date&&!isNaN(e)?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"):"N/A";return{formatCurrency:gt.vv,formatDate:r,getItemTypeClasses:e,getItemTypeLabel:t,getDefaultTitle:a}}};const vt=(0,P.A)(yt,[["render",pt]]);var ft=vt;const bt={class:"space-y-6"},kt={class:"flex justify-between items-center mb-6"},xt={class:"bg-white rounded-lg border border-gray-200 overflow-hidden"},ht={key:0,class:"flex justify-center py-8"},wt={key:1,class:"text-center py-12"},Lt={class:"mt-6"},Ct={key:2,class:"min-w-full divide-y divide-gray-200"},Vt={class:"bg-white divide-y divide-gray-200"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},jt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},At={class:"px-6 py-4 whitespace-nowrap text-sm"},Mt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},$t=["onClick"],Pt=["onClick"];function Xt(e,t,a,o,l,s){const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",bt,[(0,r.Lk)("div",kt,[t[1]||(t[1]=(0,r.Lk)("h2",{class:"text-xl font-bold text-gray-900"},"Billing History",-1)),(0,r.bF)(n,{to:"/billing",class:"text-sm text-green-600 hover:text-green-700"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)(" Create New Invoice ")]))),_:1})]),(0,r.Lk)("div",xt,[a.loading?((0,r.uX)(),(0,r.CE)("div",ht,t[2]||(t[2]=[(0,r.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"},null,-1)]))):0===a.invoices.length?((0,r.uX)(),(0,r.CE)("div",wt,[t[4]||(t[4]=(0,r.Lk)("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[5]||(t[5]=(0,r.Lk)("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No billing history",-1)),t[6]||(t[6]=(0,r.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"Generate your first invoice to get started.",-1)),(0,r.Lk)("div",Lt,[(0,r.bF)(n,{to:"/billing",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.Lk)("svg",{class:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),(0,r.eW)(" Create Invoice ")]))),_:1})])])):((0,r.uX)(),(0,r.CE)("table",Ct,[t[7]||(t[7]=(0,r.Lk)("thead",{class:"bg-gray-50"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Invoice #"),(0,r.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Client"),(0,r.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),(0,r.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),(0,r.Lk)("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),(0,r.Lk)("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),(0,r.Lk)("tbody",Vt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.invoices,((t,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a,class:"hover:bg-gray-50"},[(0,r.Lk)("td",Nt,(0,v.v_)(t.invoiceNumber),1),(0,r.Lk)("td",It,(0,v.v_)(t.clientName),1),(0,r.Lk)("td",Et,(0,v.v_)(o.formatDate(t.date)),1),(0,r.Lk)("td",jt,(0,v.v_)(o.formatCurrency(t.totalAmount)),1),(0,r.Lk)("td",At,[(0,r.Lk)("span",{class:(0,v.C4)([o.getStatusClasses(t.status),"px-2 py-1 rounded-md text-xs font-medium"])},(0,v.v_)(t.status),3)]),(0,r.Lk)("td",Mt,[(0,r.Lk)("button",{onClick:a=>e.$emit("view",t),class:"text-green-600 hover:text-green-900 mr-3"}," View ",8,$t),(0,r.Lk)("button",{onClick:a=>e.$emit("download",t),class:"text-indigo-600 hover:text-indigo-900"}," Download ",8,Pt)])])))),128))])]))])])}var Bt={name:"BillingHistoryTable",props:{invoices:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["view","download"],setup(){const e=e=>{switch(e=e?.toLowerCase()||"",e){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},t=e=>e?("string"===typeof e&&(e=new Date(e)),e instanceof Date&&!isNaN(e)?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"):"N/A";return{formatCurrency:gt.vv,formatDate:t,getStatusClasses:e}}};const Tt=(0,P.A)(Bt,[["render",Xt]]);var Dt=Tt;const Ht={class:"space-y-6"},St={class:"flex justify-between items-center mb-6"},Ut={key:0,class:"flex justify-center py-8"},_t={key:1,class:"text-center py-12"},Rt={class:"mt-6"},Ft={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Zt={class:"flex justify-between items-start"},Kt={class:"text-base font-medium text-gray-900"},zt={class:"text-sm text-gray-500 mt-1"},Wt={class:"mt-4 flex items-center text-sm"},Ot={class:"text-gray-600"},Qt={class:"mt-4 flex justify-between items-center"},qt={class:"text-sm"},Gt={class:"ml-1 font-medium"},Yt=["onClick"];function Jt(e,t,a,o,l,s){const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Ht,[(0,r.Lk)("div",St,[t[1]||(t[1]=(0,r.Lk)("h2",{class:"text-xl font-bold text-gray-900"},"Proposals",-1)),(0,r.bF)(n,{to:"/proposal",class:"text-sm text-green-600 hover:text-green-700"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)(" Create New Proposal ")]))),_:1})]),a.loading?((0,r.uX)(),(0,r.CE)("div",Ut,t[2]||(t[2]=[(0,r.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500"},null,-1)]))):0===a.proposals.length?((0,r.uX)(),(0,r.CE)("div",_t,[t[4]||(t[4]=(0,r.Lk)("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[5]||(t[5]=(0,r.Lk)("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No proposals yet",-1)),t[6]||(t[6]=(0,r.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"Create your first project proposal to get started.",-1)),(0,r.Lk)("div",Rt,[(0,r.bF)(n,{to:"/proposal",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none"},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.Lk)("svg",{class:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),(0,r.eW)(" Create Proposal ")]))),_:1})])])):((0,r.uX)(),(0,r.CE)("div",Ft,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.proposals,((a,l)=>((0,r.uX)(),(0,r.CE)("div",{key:l,class:"bg-white p-5 rounded-lg border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200"},[(0,r.Lk)("div",Zt,[(0,r.Lk)("div",null,[(0,r.Lk)("h3",Kt,(0,v.v_)(a.title),1),(0,r.Lk)("p",zt,"Client: "+(0,v.v_)(a.clientName),1)]),(0,r.Lk)("span",{class:(0,v.C4)([o.getStatusClasses(a.status),"px-2 py-1 rounded-md text-xs font-medium"])},(0,v.v_)(a.status),3)]),(0,r.Lk)("div",Wt,[t[7]||(t[7]=(0,r.Lk)("svg",{class:"h-5 w-5 text-gray-400 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),(0,r.Lk)("span",Ot,(0,v.v_)(o.formatDate(a.date)),1)]),(0,r.Lk)("div",Qt,[(0,r.Lk)("div",qt,[t[8]||(t[8]=(0,r.Lk)("span",{class:"text-gray-500"},"Project Value:",-1)),(0,r.Lk)("span",Gt,(0,v.v_)(o.formatCurrency(a.projectValue)),1)]),(0,r.Lk)("div",null,[(0,r.Lk)("button",{onClick:t=>e.$emit("view",a),class:"text-green-600 hover:text-green-800 text-sm font-medium"}," View Details ",8,Yt)])])])))),128))]))])}var ea={name:"ProposalsList",props:{proposals:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["view"],setup(){const e=e=>{switch(e=e?.toLowerCase()||"",e){case"accepted":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},t=e=>e?("string"===typeof e&&(e=new Date(e)),e instanceof Date&&!isNaN(e)?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"):"N/A";return{formatCurrency:gt.vv,formatDate:t,getStatusClasses:e}}};const ta=(0,P.A)(ea,[["render",Jt]]);var aa=ta,ra=a(6826),oa={name:"UserProfile",components:{Settings:y["default"],ProfileNavigation:B,PersonalInfoForm:ie,CompanyDetailsForm:Ze,SavedItemsList:ft,BillingHistoryTable:Dt,ProposalsList:aa},setup(){const e=(0,m.rd)(),t=(0,ra.n)(),a=(0,c.KR)(!0),o=(0,c.KR)(!1),l=(0,c.KR)("saved"),s=(0,c.KR)(""),n=(0,c.KR)(""),i=(0,c.KR)([]),d=(0,c.KR)([]),u=(0,c.KR)([]),y=(0,c.KR)({firstName:"",lastName:"",displayName:"",email:"",phone:"",address:"",city:"",postalCode:"",country:"Kenya",taxId:"",vatNumber:""}),v=(0,c.KR)({name:"",email:"",phone:"",website:"",address:"",city:"",postalCode:"",country:"Kenya",regNumber:"",taxId:"",vatNumber:"",vatRate:16,bankName:"",accountName:"",accountNumber:"",branchCode:"",swiftCode:""}),f=async()=>{try{await p.j.signOut(),e.push("/auth")}catch(t){console.error("Error during logout:",t)}},b=t=>{switch(t.type){case"tax":e.push("/tax-calculator");break;case"invoice":e.push("/billing");break;case"proposal":e.push("/proposal");break;default:console.log("Viewing item:",t)}},k=e=>{console.log("Deleting item:",e),"tax"===e.type?i.value=i.value.filter((t=>t.id!==e.id)):"invoice"===e.type?d.value=d.value.filter((t=>t.id!==e.id)):"proposal"===e.type&&(u.value=u.value.filter((t=>t.id!==e.id)))},x=t=>{e.push("/billing"),console.log("Viewing invoice:",t)},h=e=>{console.log("Downloading invoice:",e)},w=t=>{e.push("/proposal"),console.log("Viewing proposal:",t)},L=async()=>{o.value=!0;try{if(!p.j.currentUser)throw new Error("No user authenticated");const e=(0,g.H9)(p.db,"users",p.j.currentUser.uid);await(0,g.BN)(e,{...y.value,updatedAt:(0,g.O5)()},{merge:!0}),await t.updateUserProfile({displayName:y.value.displayName||`${y.value.firstName} ${y.value.lastName}`.trim()}),n.value=y.value.displayName||`${y.value.firstName} ${y.value.lastName}`.trim(),alert("Personal information updated successfully")}catch(e){console.error("Error updating personal info:",e),alert(`Error updating personal information: ${e.message}`)}finally{o.value=!1}},C=async()=>{o.value=!0;try{if(!p.j.currentUser)throw new Error("No user authenticated");const e=(0,g.H9)(p.db,"users",p.j.currentUser.uid);await(0,g.BN)(e,{company:{...v.value},updatedAt:(0,g.O5)()},{merge:!0}),alert("Company information updated successfully")}catch(e){console.error("Error updating company info:",e),alert(`Error updating company information: ${e.message}`)}finally{o.value=!1}},V=async()=>{a.value=!0;try{const e=p.j.currentUser;if(e){s.value=e.email,n.value=e.displayName||"",y.value.email=e.email,y.value.displayName=e.displayName||"";const t=(0,g.H9)(p.db,"users",e.uid),a=await(0,g.x7)(t);if(a.exists()){const t=a.data();y.value={firstName:t.firstName||"",lastName:t.lastName||"",displayName:t.displayName||e.displayName||"",email:e.email,phone:t.phone||"",address:t.address||"",city:t.city||"",postalCode:t.postalCode||"",country:t.country||"Kenya",taxId:t.taxId||"",vatNumber:t.vatNumber||""},t.company&&(v.value={name:t.company.name||"",email:t.company.email||"",phone:t.company.phone||"",website:t.company.website||"",address:t.company.address||"",city:t.company.city||"",postalCode:t.company.postalCode||"",country:t.company.country||"Kenya",regNumber:t.company.regNumber||"",taxId:t.company.taxId||"",vatNumber:t.company.vatNumber||"",vatRate:t.company.vatRate||16,bankName:t.company.bankName||"",accountName:t.company.accountName||"",accountNumber:t.company.accountNumber||"",branchCode:t.company.branchCode||"",swiftCode:t.company.swiftCode||""})}}}catch(e){console.error("Error fetching user data:",e)}finally{a.value=!1}};return(0,r.sV)((async()=>{await V()})),{activeTab:l,userEmail:s,userName:n,loading:a,profileLoading:o,savedItems:i,billingHistory:d,proposals:u,personalInfo:y,companyInfo:v,logout:f,viewItem:b,deleteItem:k,viewInvoice:x,downloadInvoice:h,viewProposal:w,updatePersonalInfo:L,updateCompanyInfo:C}}};const la=(0,P.A)(oa,[["render",u],["__scopeId","data-v-7cff5952"]]);var sa=la},6826:function(e,t,a){a.d(t,{n:function(){return i}});var r=a(657),o=a(6971),l=a(7617),s=a(1394),n=a(1920);const i=(0,r.nY)("auth",{state:()=>({user:null,loading:!1,error:null,userProfile:null}),getters:{isAuthenticated:e=>!!e.user,userId:e=>e.user?.uid,userEmail:e=>e.user?.email,userName:e=>e.user?.displayName},actions:{async init(){return new Promise((e=>{(0,o.hg)(s.j,(t=>{this.setUser(t),e(t)}))}))},async login({email:e,password:t}){this.loading=!0,this.error=null;try{const{user:a}=await(0,o.x9)(s.j,e,t);return this.setUser(a),a}catch(a){const e=this.getAuthErrorMessage(a.code);throw this.error=e,(0,n.$5)(e,a.code)}finally{this.loading=!1}},async register({email:e,password:t,name:a,phone:r,firstName:i,lastName:d,displayName:u,address:c,city:m,postalCode:p,country:g,taxId:y,vatNumber:v}){this.loading=!0,this.error=null;try{const{user:n}=await(0,o.eJ)(s.j,e,t);await(0,o.r7)(n,{displayName:u||a});const f={firstName:i||"",lastName:d||"",displayName:u||a,email:e,phone:r||"",address:c||"",city:m||"",postalCode:p||"",country:g||"Kenya",taxId:y||"",vatNumber:v||"",createdAt:(0,l.O5)(),updatedAt:(0,l.O5)(),settings:{notifications:!0,theme:"light"}},b=(0,l.H9)(s.db,"users",n.uid);return await(0,l.BN)(b,f),this.userProfile=f,this.setUser(n),n}catch(f){let e=this.getAuthErrorMessage(f.code);throw this.error=e,(0,n.$5)(e,f.code)}finally{this.loading=!1}},async signInWithGoogle(){this.loading=!0,this.error=null;try{const e=new o.HF,{user:t}=await(0,o.df)(s.j,e);return this.setUser(t),t}catch(e){const t=this.getAuthErrorMessage(e.code);throw this.error=t,(0,n.$5)(t,e.code)}finally{this.loading=!1}},async logout(){this.loading=!0,this.error=null;try{await(0,o.CI)(s.j),this.setUser(null)}catch(e){const t=this.getAuthErrorMessage(e.code);throw this.error=t,(0,n.$5)(t,e.code)}finally{this.loading=!1}},async updateUserProfile(e){this.loading=!0,this.error=null;try{const t=s.j.currentUser;if(!t)throw new Error("User not authenticated");e.displayName&&await(0,o.r7)(t,{displayName:e.displayName});const a=(0,l.H9)(s.db,"users",t.uid);return await(0,l.BN)(a,{...e,updatedAt:(0,l.O5)()},{merge:!0}),this.userProfile={...this.userProfile,...e},!0}catch(t){const e=this.getAuthErrorMessage(t.code)||t.message;throw this.error=e,(0,n.$5)(e,t.code)}finally{this.loading=!1}},setUser(e){this.user=e},clearError(){this.error=null},getAuthErrorMessage(e){switch(e){case"auth/email-already-in-use":return"This email is already registered. Please try logging in or use a different email.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled. Please contact support.";case"auth/weak-password":return"Please choose a stronger password. It should be at least 6 characters long.";case"auth/user-disabled":return"This account has been disabled. Please contact support.";case"auth/user-not-found":return"No account found with this email. Please register first.";case"auth/wrong-password":return"Incorrect password. Please try again.";default:return"An error occurred during authentication. Please try again."}}}})}}]);
//# sourceMappingURL=391.88644fc1.js.map