(function(){"use strict";var e={1394:function(e,t,n){n.d(t,{db:function(){return l},j:function(){return c}});var r=n(6400),a=n(7617),o=n(6971);const i={apiKey:"AIzaSyDKcAUiOKPjs2wnS08zmDmil-m57vOdOHs",authDomain:"tax-calculator-4e9c2.firebaseapp.com",projectId:"tax-calculator-4e9c2",storageBucket:"tax-calculator-4e9c2.firebasestorage.app",messagingSenderId:"807784710697",appId:"1:807784710697:web:72b603ab5af145783dd238"},s=(0,r.Wp)(i),l=(0,a._A)(s,{localCache:(0,a.vK)({tabManager:(0,a.K7)(),cacheSizeBytes:a.H6})}),c=(0,o.xI)(s)},1920:function(e,t,n){n.d(t,{$5:function(){return o},ep:function(){return c},hS:function(){return l}});n(4114),n(8111),n(7588);class r extends Error{constructor(e,t="UNKNOWN_ERROR"){super(e),this.code=t,this.name="AppError"}}const a={AUTH_INVALID_EMAIL:"Please enter a valid email address",AUTH_WEAK_PASSWORD:"Password should be at least 6 characters long",AUTH_EMAIL_IN_USE:"This email is already registered",AUTH_USER_NOT_FOUND:"User not found. Please check your credentials",AUTH_WRONG_PASSWORD:"Incorrect password",AUTH_REQUIRES_RECENT_LOGIN:"Please sign in again to continue",TAX_RATES_NOT_FOUND:"Tax rates not found for the specified year",INVALID_INCOME:"Please enter a valid income amount",CALCULATION_ERROR:"Error calculating taxes. Please try again",INVOICE_NOT_FOUND:"Invoice not found",INVALID_INVOICE_DATA:"Please check the invoice details",INVOICE_CREATE_ERROR:"Error creating invoice",INVALID_STATUS:"Invalid invoice status",NETWORK_ERROR:"Network connection error. Please check your internet connection",UNKNOWN_ERROR:"An unexpected error occurred. Please try again",PERMISSION_DENIED:"You do not have permission to perform this action",INVALID_INPUT:"Please check your input and try again"};function o(e,t="UNKNOWN_ERROR"){const n=new Error(e);return n.code=t,n.userMessage=a[t]||e,n}function i(e){return e instanceof r?{message:e.message,code:e.code}:e.code&&e.code.startsWith("auth/")?{message:s(e.code),code:e.code}:(console.error("Unexpected error:",e),{message:"An unexpected error occurred. Please try again.",code:"UNEXPECTED_ERROR"})}function s(e){const t={"auth/email-already-in-use":"This email is already registered.","auth/invalid-email":"Please enter a valid email address.","auth/operation-not-allowed":"Operation not allowed.","auth/weak-password":"Please choose a stronger password.","auth/user-disabled":"This account has been disabled.","auth/user-not-found":"Invalid email or password.","auth/wrong-password":"Invalid email or password.","auth/too-many-requests":"Too many attempts. Please try again later."};return t[e]||"An authentication error occurred."}function l(e){const t=i(e);return"UNEXPECTED_ERROR"===t.code&&console.error("Critical error:",e),t}function c(e,t={}){const{min:n=Number.MIN_SAFE_INTEGER,max:r=Number.MAX_SAFE_INTEGER,required:a=!0,label:o="Value"}=t;if(a&&(null===e||void 0===e||""===e))return`${o} is required`;if(null!==e&&void 0!==e&&""!==e){if(isNaN(e)||"number"!==typeof e)return`${o} must be a number`;if(e<n)return`${o} must be at least ${n}`;if(e>r)return`${o} must be no more than ${r}`}return null}},7862:function(e,t,n){var r=n(5130),a=n(657),o=n(6768),i=n(4232);const s={class:"min-h-screen bg-white"},l={class:"fixed w-full bg-white/80 backdrop-blur-sm z-50 border-b border-gray-100"},c={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},u={class:"flex justify-between h-16"},d={class:"flex"},f={class:"flex-shrink-0 flex items-center"},m={class:"hidden sm:ml-8 sm:flex sm:space-x-8"},p={class:"flex items-center space-x-4"},v={class:"text-sm text-gray-600"},h={class:"pt-16"};function g(e,t,n,r,a,g){const b=(0,o.g2)("router-link"),y=(0,o.g2)("LoadingScreen"),E=(0,o.g2)("router-view"),_=(0,o.g2)("PageTransition");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("nav",l,[(0,o.Lk)("div",c,[(0,o.Lk)("div",u,[(0,o.Lk)("div",d,[(0,o.Lk)("div",f,[(0,o.bF)(b,{to:"/",class:"text-xl font-semibold"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("span",{class:"gradient-text"},"KE Tax & Billing",-1)]))),_:1})]),(0,o.Lk)("div",m,[(0,o.bF)(b,{to:"/tax-calculator",class:"nav-link","active-class":"active-nav-link"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)(" Tax Calculator ")]))),_:1}),(0,o.bF)(b,{to:"/billing",class:"nav-link","active-class":"active-nav-link"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)(" Billing Generator ")]))),_:1}),(0,o.bF)(b,{to:"/billing-planner",class:"nav-link","active-class":"active-nav-link"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" Billing Planner ")]))),_:1}),r.isAdmin?((0,o.uX)(),(0,o.Wv)(b,{key:0,to:"/settings",class:"nav-link","active-class":"active-nav-link"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)(" Settings ")]))),_:1})):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",p,[r.isAuthenticated?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("span",v,(0,i.v_)(r.userEmail),1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.logout&&r.logout(...e)),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none transition-colors duration-200"}," Logout ")],64)):((0,o.uX)(),(0,o.Wv)(b,{key:1,to:"/auth",class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gray-900 rounded-full hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 transition-all duration-200 shadow-stripe-sm hover:shadow-stripe-md"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)(" Sign in ")]))),_:1}))])])])]),(0,o.Lk)("main",h,[r.loading?((0,o.uX)(),(0,o.Wv)(y,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.bF)(E,null,{default:(0,o.k6)((({Component:e})=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e)))])),_:1})])),_:1})])])}n(4114);var b=n(144),y=n(1394),E=n(1387);const _={class:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex items-center justify-center"};function x(e,t,n,r,a,i){return(0,o.uX)(),(0,o.CE)("div",_,t[0]||(t[0]=[(0,o.Fv)('<div class="text-center"><svg class="animate-spin h-12 w-12 text-green-600 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="mt-4 text-lg text-gray-600">Loading...</p></div>',1)]))}var A={name:"LoadingScreen"},k=n(1241);const w=(0,k.A)(A,[["render",x]]);var O=w;function C(e,t,n,a,i,s){return(0,o.uX)(),(0,o.Wv)(r.eB,{name:"page",mode:"out-in",onBeforeEnter:s.beforeEnter,onEnter:s.enter,onAfterEnter:s.afterEnter,onEnterCancelled:s.enterCancelled,onBeforeLeave:s.beforeLeave,onLeave:s.leave,onAfterLeave:s.afterLeave,onLeaveCancelled:s.leaveCancelled},{default:(0,o.k6)((()=>[(0,o.RG)(e.$slots,"default",{},void 0,!0)])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled"])}var N={name:"PageTransition",methods:{beforeEnter(e){e.style.opacity=0,e.style.transform="translateY(10px)"},enter(e,t){setTimeout((()=>{e.style.opacity=1,e.style.transform="translateY(0)",e.style.transition="all 0.3s ease-in-out",t()}),50)},afterEnter(e){e.style.transition=""},enterCancelled(e){e.style.transition=""},beforeLeave(e){e.style.opacity=1,e.style.transform="translateY(0)"},leave(e,t){setTimeout((()=>{e.style.opacity=0,e.style.transform="translateY(-10px)",e.style.transition="all 0.2s ease-in-out",t()}),50)},afterLeave(e){e.style.transition=""},leaveCancelled(e){e.style.transition=""}}};const L=(0,k.A)(N,[["render",C],["__scopeId","data-v-66b6c797"]]);var T=L,P={name:"App",components:{LoadingScreen:O,PageTransition:T},setup(){const e=(0,b.KR)(!1),t=(0,b.KR)(""),n=(0,E.rd)(),r=(0,b.KR)(!1),a=(0,o.EW)((()=>e.value&&t.value.toLowerCase()==="collinsodeny@gmail.com"?.toLowerCase()));(0,o.sV)((()=>{r.value=!0,y.j.onAuthStateChanged((n=>{e.value=!!n,t.value=n?n.email:"",r.value=!1}))}));const i=async()=>{try{r.value=!0,await y.j.signOut(),n.push("/auth")}catch(e){console.error("Error during logout:",e)}finally{r.value=!1}};return{isAuthenticated:e,userEmail:t,isAdmin:a,logout:i,loading:r}}};const I=(0,k.A)(P,[["render",g]]);var R=I;n(8111),n(3579);const S=()=>Promise.all([n.e(420),n.e(279)]).then(n.bind(n,2279)),j=()=>Promise.all([n.e(940),n.e(136)]).then(n.bind(n,7533)),U=()=>Promise.all([n.e(420),n.e(158)]).then(n.bind(n,3158)),D=()=>Promise.all([n.e(420),n.e(765)]).then(n.bind(n,765)),W=()=>Promise.all([n.e(420),n.e(217)]).then(n.bind(n,217)),K=()=>n.e(951).then(n.bind(n,7951)),B=()=>n.e(283).then(n.bind(n,3283)),F=()=>Promise.all([n.e(940),n.e(916)]).then(n.bind(n,3897)),M=[{path:"/",name:"HomePage",component:S},{path:"/tax-calculator",name:"TaxCalculator",component:j},{path:"/billing",name:"BillingGenerator",component:U},{path:"/billing-planner",name:"BillingPlanner",component:D},{path:"/proposal",name:"Proposal",component:W},{path:"/examples",name:"Examples",component:K},{path:"/auth",name:"Auth",component:B,meta:{requiresGuest:!0}},{path:"/settings",name:"Settings",component:F,meta:{requiresAuth:!0,requiresAdmin:!0}}],H=(0,E.aE)({history:(0,E.LA)("/Kenya-Tax-Billing-Calculator/"),routes:M});H.beforeEach((async(e,t,n)=>{const r=e.matched.some((e=>e.meta.requiresAuth)),a=e.matched.some((e=>e.meta.requiresGuest)),o=e.matched.some((e=>e.meta.requiresAdmin)),i=await new Promise((e=>{const t=y.j.onAuthStateChanged((n=>{t(),e(n)}))})),s=!!i,l=s&&i?.email?.toLowerCase()==="collinsodeny@gmail.com"?.toLowerCase();r&&!s?n("/auth"):a&&s||o&&!l?n("/"):n()}));var V=H,X=n(1920);window.__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!0;const q=(0,r.Ef)(R),$=(0,a.Ey)();q.use($),q.use(V),q.config.errorHandler=(e,t,n)=>(console.error("Global error:",e),console.error("Component:",t),console.error("Error Info:",n),e.code&&e.code.startsWith("firestore/")&&console.warn("Firestore error:",e.code),(0,X.hS)(e)),q.config.globalProperties.$formatCurrency=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(e),q.config.globalProperties.$db=y.db,q.mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],o=e[u][2];for(var s=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return r[e]}}));return i["default"]=function(){return r},n.d(o,i),o}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{136:"b774759c",158:"eefb027e",217:"6b22159e",279:"1ac02430",283:"f5f273e1",420:"09a70285",427:"8277e5e8",765:"bb8f86de",849:"b10306d9",916:"71c2ad35",940:"c2a70f57",951:"71e9084f"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{136:"17772d3a",158:"9ced190c",217:"f9718c77",279:"cb9d33eb",283:"3b6d030e",765:"6b18499d",916:"c30dda64",951:"7364fefc"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="my-tax-calculator:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[a];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(m);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/Kenya-Tax-Billing-Calculator/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,r,a,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",n.nc&&(i.nonce=n.nc);var s=function(n){if(i.onerror=i.onload=null,"load"===n.type)a();else{var r=n&&n.type,s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+s+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=s,i.parentNode&&i.parentNode.removeChild(i),o(l)}};return i.onerror=i.onload=s,i.href=t,r?r.parentNode.insertBefore(i,r.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){a=i[r],o=a.getAttribute("data-href");if(o===e||o===t)return a}},r=function(r){return new Promise((function(a,o){var i=n.miniCssF(r),s=n.p+i;if(t(i,s))return a();e(r,s,null,a,o)}))},a={524:0};n.f.miniCss=function(e,t){var n={136:1,158:1,217:1,279:1,283:1,765:1,916:1,951:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=r(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}}(),function(){var e={524:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),s=new Error,l=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,a[1](s)}};n.l(i,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],s=r[1],l=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var u=l(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self["webpackChunkmy_tax_calculator"]=self["webpackChunkmy_tax_calculator"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(7862)}));r=n.O(r)})();
//# sourceMappingURL=app.ceed7356.js.map