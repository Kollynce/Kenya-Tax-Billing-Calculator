{"version":3,"file":"js/18.fcfe6d41.js","mappings":"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","sources":["webpack://my-tax-calculator/./src/views/Settings.vue","webpack://my-tax-calculator/./src/store/taxStore.js","webpack://my-tax-calculator/./src/views/Settings.vue?4351"],"sourcesContent":["<template>\r\n  <div class=\"max-w-7xl mx-auto px-4 py-8\">\r\n    <div class=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg shadow-lg p-6\">\r\n      <div class=\"mb-8\">\r\n        <h1 class=\"text-3xl font-bold text-gray-900\">Tax Settings</h1>\r\n        <p class=\"mt-2 text-gray-600\">Configure tax rates and thresholds for calculations</p>\r\n      </div>\r\n\r\n      <div class=\"bg-white rounded-lg shadow p-6\">\r\n        <form @submit.prevent=\"handleSubmit\" class=\"space-y-8\">\r\n          <!-- Income Tax Brackets -->\r\n          <div>\r\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Income Tax Brackets</h3>\r\n            <div class=\"space-y-4\">\r\n              <div v-for=\"(bracket, index) in form.brackets\" :key=\"index\" class=\"p-4 bg-gray-50 rounded-lg\">\r\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <InputField\r\n                    :id=\"'bracketMin' + index\"\r\n                    v-model.number=\"bracket.min\"\r\n                    :label=\"index === 0 ? 'From (KES)' : 'From (KES)'\"\r\n                    type=\"number\"\r\n                    :error=\"bracketErrors[index]?.min\"\r\n                    :disabled=\"index === 0\"\r\n                  />\r\n                  <InputField\r\n                    :id=\"'bracketMax' + index\"\r\n                    v-model.number=\"bracket.max\"\r\n                    label=\"To (KES)\"\r\n                    type=\"number\"\r\n                    :error=\"bracketErrors[index]?.max\"\r\n                    :placeholder=\"index === form.brackets.length - 1 ? 'No limit' : ''\"\r\n                    :disabled=\"index === form.brackets.length - 1\"\r\n                  />\r\n                  <InputField\r\n                    :id=\"'bracketRate' + index\"\r\n                    v-model.number=\"bracket.rate\"\r\n                    label=\"Rate (%)\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    :error=\"bracketErrors[index]?.rate\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- NSSF Settings -->\r\n          <div>\r\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">NSSF Settings</h3>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg\">\r\n              <InputField\r\n                id=\"nssfTierIRate\"\r\n                v-model.number=\"form.nssfTierIRate\"\r\n                label=\"Tier I Rate (%)\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                :error=\"errors.nssfTierIRate\"\r\n              />\r\n              <InputField\r\n                id=\"nssfTierIIRate\"\r\n                v-model.number=\"form.nssfTierIIRate\"\r\n                label=\"Tier II Rate (%)\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                :error=\"errors.nssfTierIIRate\"\r\n              />\r\n              <InputField\r\n                id=\"nssfTierILimit\"\r\n                v-model.number=\"form.nssfTierILimit\"\r\n                label=\"Tier I Monthly Limit (KES)\"\r\n                type=\"number\"\r\n                :error=\"errors.nssfTierILimit\"\r\n              />\r\n              <InputField\r\n                id=\"nssfTierIILimit\"\r\n                v-model.number=\"form.nssfTierIILimit\"\r\n                label=\"Tier II Monthly Limit (KES)\"\r\n                type=\"number\"\r\n                :error=\"errors.nssfTierIILimit\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <!-- SHIF Settings -->\r\n          <div>\r\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">SHIF Settings</h3>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 bg-gray-50 rounded-lg\">\r\n              <InputField\r\n                id=\"shifRate\"\r\n                v-model.number=\"form.shifRate\"\r\n                label=\"SHIF Rate (%)\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                :error=\"errors.shifRate\"\r\n              />\r\n              <InputField\r\n                id=\"shifMinContribution\"\r\n                v-model.number=\"form.shifMinContribution\"\r\n                label=\"Minimum Monthly Contribution (KES)\"\r\n                type=\"number\"\r\n                :error=\"errors.shifMinContribution\"\r\n              />\r\n              <InputField\r\n                id=\"shifMaxContribution\"\r\n                v-model.number=\"form.shifMaxContribution\"\r\n                label=\"Maximum Monthly Contribution (KES)\"\r\n                type=\"number\"\r\n                :error=\"errors.shifMaxContribution\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Housing Levy Settings -->\r\n          <div>\r\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Housing Levy Settings</h3>\r\n            <div class=\"p-4 bg-gray-50 rounded-lg\">\r\n              <InputField\r\n                id=\"housingLevyRate\"\r\n                v-model.number=\"form.housingLevyRate\"\r\n                label=\"Housing Levy Rate (%)\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                :error=\"errors.housingLevyRate\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Submit Button -->\r\n          <div class=\"flex justify-end\">\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"kenya\"\r\n              :loading=\"taxStore.loading\"\r\n              :disabled=\"taxStore.loading\"\r\n            >\r\n              Save Changes\r\n            </Button>\r\n          </div>\r\n\r\n          <div v-if=\"taxStore.error\" class=\"mt-4 text-red-600\">\r\n            {{ taxStore.error }}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useTaxStore } from '../store/taxStore';\r\nimport InputField from '../components/InputField.vue';\r\nimport Button from '../components/Button.vue';\r\n\r\nexport default {\r\n  name: 'SettingsView',\r\n  components: {\r\n    InputField,\r\n    Button\r\n  },\r\n  setup() {\r\n    const taxStore = useTaxStore();\r\n    const errors = ref({});\r\n    const bracketErrors = ref([]);\r\n\r\n    const form = ref({\r\n      brackets: [\r\n        { min: 0, max: 24000, rate: 10 },\r\n        { min: 24001, max: 32333, rate: 25 },\r\n        { min: 32334, max: 500000, rate: 30 },\r\n        { min: 500001, max: 800000, rate: 32.5 },\r\n        { min: 800001, max: null, rate: 35 }\r\n      ],\r\n      shifRate: 2.75,\r\n      shifMinContribution: 300,\r\n      shifMaxContribution: 1000,\r\n      nssfTierIRate: 6,\r\n      nssfTierIIRate: 6,\r\n      nssfTierILimit: 6000,\r\n      nssfTierIILimit: 12000,\r\n      housingLevyRate: 1.5,\r\n      personalRelief: 28800,\r\n      vatRate: 16\r\n    });\r\n\r\n    const loadSettings = async () => {\r\n      try {\r\n        await taxStore.loadTaxRates();\r\n        if (taxStore.taxRates) {\r\n          const rates = taxStore.taxRates;\r\n          form.value = {\r\n            brackets: rates.brackets || form.value.brackets,\r\n            shifRate: typeof rates.shifRate === 'number' ? rates.shifRate * 100 : form.value.shifRate,\r\n            shifMinContribution: rates.shifMinContribution || form.value.shifMinContribution,\r\n            shifMaxContribution: rates.shifMaxContribution || form.value.shifMaxContribution,\r\n            nssfTierIRate: typeof rates.nssfTierIRate === 'number' ? rates.nssfTierIRate * 100 : form.value.nssfTierIRate,\r\n            nssfTierIIRate: typeof rates.nssfTierIIRate === 'number' ? rates.nssfTierIIRate * 100 : form.value.nssfTierIIRate,\r\n            nssfTierILimit: rates.nssfTierILimit || form.value.nssfTierILimit,\r\n            nssfTierIILimit: rates.nssfTierIILimit || form.value.nssfTierIILimit,\r\n            housingLevyRate: rates.housingLevyRate || form.value.housingLevyRate,\r\n            personalRelief: rates.personalRelief || form.value.personalRelief,\r\n            vatRate: typeof rates.vatRate === 'number' ? rates.vatRate * 100 : form.value.vatRate\r\n          };\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading tax rates:', error);\r\n      }\r\n    };\r\n\r\n    const validateForm = () => {\r\n      errors.value = {};\r\n      bracketErrors.value = [];\r\n      let isValid = true;\r\n\r\n      // Validate tax brackets\r\n      form.value.brackets.forEach((bracket, index) => {\r\n        const bracketError = {};\r\n        if (bracket.min < 0) {\r\n          bracketError.min = 'Minimum value cannot be negative';\r\n          isValid = false;\r\n        }\r\n        if (bracket.max && bracket.max <= bracket.min) {\r\n          bracketError.max = 'Maximum value must be greater than minimum';\r\n          isValid = false;\r\n        }\r\n        if (bracket.rate < 0 || bracket.rate > 100) {\r\n          bracketError.rate = 'Rate must be between 0 and 100';\r\n          isValid = false;\r\n        }\r\n        if (Object.keys(bracketError).length > 0) {\r\n          bracketErrors.value[index] = bracketError;\r\n        }\r\n      });\r\n\r\n      // Validate other fields\r\n      if (form.value.shifRate < 0 || form.value.shifRate > 100) {\r\n        errors.value.shifRate = 'SHIF rate must be between 0 and 100';\r\n        isValid = false;\r\n      }\r\n      if (form.value.shifMinContribution < 0) {\r\n        errors.value.shifMinContribution = 'Minimum SHIF contribution cannot be negative';\r\n        isValid = false;\r\n      }\r\n      if (form.value.shifMaxContribution < 0) {\r\n        errors.value.shifMaxContribution = 'Maximum SHIF contribution cannot be negative';\r\n        isValid = false;\r\n      }\r\n      if (form.value.nssfTierIRate < 0 || form.value.nssfTierIRate > 100) {\r\n        errors.value.nssfTierIRate = 'NSSF Tier I rate must be between 0 and 100';\r\n        isValid = false;\r\n      }\r\n      if (form.value.nssfTierIIRate < 0 || form.value.nssfTierIIRate > 100) {\r\n        errors.value.nssfTierIIRate = 'NSSF Tier II rate must be between 0 and 100';\r\n        isValid = false;\r\n      }\r\n      if (form.value.nssfTierILimit < 0) {\r\n        errors.value.nssfTierILimit = 'NSSF Tier I limit cannot be negative';\r\n        isValid = false;\r\n      }\r\n      if (form.value.nssfTierIILimit < 0) {\r\n        errors.value.nssfTierIILimit = 'NSSF Tier II limit cannot be negative';\r\n        isValid = false;\r\n      }\r\n      if (form.value.housingLevyRate < 0 || form.value.housingLevyRate > 100) {\r\n        errors.value.housingLevyRate = 'Housing levy rate must be between 0 and 100';\r\n        isValid = false;\r\n      }\r\n      if (form.value.personalRelief < 0) {\r\n        errors.value.personalRelief = 'Personal relief cannot be negative';\r\n        isValid = false;\r\n      }\r\n      if (form.value.vatRate < 0 || form.value.vatRate > 100) {\r\n        errors.value.vatRate = 'VAT rate must be between 0 and 100';\r\n        isValid = false;\r\n      }\r\n\r\n      return isValid;\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n      if (!validateForm()) return;\r\n\r\n      try {\r\n        await taxStore.updateRates({\r\n          ...form.value,\r\n          shifRate: form.value.shifRate / 100,\r\n          nssfTierIRate: form.value.nssfTierIRate / 100,\r\n          nssfTierIIRate: form.value.nssfTierIIRate / 100,\r\n          vatRate: form.value.vatRate / 100\r\n        });\r\n        // Show success message\r\n      } catch (error) {\r\n        console.error('Error saving settings:', error);\r\n      }\r\n    };\r\n\r\n    const resetForm = () => {\r\n      loadSettings();\r\n    };\r\n\r\n    onMounted(loadSettings);\r\n\r\n    return {\r\n      form,\r\n      errors,\r\n      bracketErrors,\r\n      taxStore,\r\n      handleSubmit,\r\n      resetForm\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.text-primary {\r\n  color: #16A34A;  /* text-green-600 equivalent */\r\n}\r\n\r\n.bg-primary {\r\n  background-color: #16A34A;  /* bg-green-600 equivalent */\r\n}\r\n\r\n.bg-primary-dark {\r\n  background-color: #15803D;  /* bg-green-700 equivalent */\r\n}\r\n</style>","import { defineStore } from 'pinia';\r\nimport { getTaxRates, getTaxSettings, saveTaxCalculation, getUserCalculations, updateTaxRates } from '../services/taxService';\r\nimport { calculateNetIncome, generateTaxSummary } from '../utils/taxUtils';\r\n\r\nexport const useTaxStore = defineStore('tax', {\r\n  state: () => ({\r\n    taxRates: null,\r\n    settings: null,\r\n    currentCalculation: null,\r\n    calculationHistory: [],\r\n    loading: false,\r\n    error: null\r\n  }),\r\n\r\n  actions: {\r\n    async initialize() {\r\n      await Promise.all([\r\n        this.loadTaxRates(),\r\n        this.loadSettings()\r\n      ]);\r\n    },\r\n\r\n    async loadTaxRates() {\r\n      try {\r\n        this.loading = true;\r\n        const currentYear = new Date().getFullYear();\r\n        const rates = await getTaxRates(currentYear);\r\n        \r\n        if (rates) {\r\n          this.taxRates = {\r\n            ...rates,\r\n            shifRate: Number(rates.shifRate || 0.0275),\r\n            nssfTierIRate: Number(rates.nssfTierIRate || 0.06),\r\n            nssfTierIIRate: Number(rates.nssfTierIIRate || 0.06),\r\n            vatRate: Number(rates.vatRate || 0.16),\r\n            housingLevyRate: Number(rates.housingLevyRate || 0.015),\r\n            personalRelief: Number(rates.personalRelief || 28800),\r\n            brackets: (rates.brackets || []).map(bracket => ({\r\n              min: Number(bracket.min || 0),\r\n              max: bracket.max === null ? null : Number(bracket.max || 0),\r\n              rate: Number(bracket.rate || 0)\r\n            }))\r\n          };\r\n        }\r\n      } catch (error) {\r\n        this.error = 'Failed to load tax rates';\r\n        throw error;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    async loadSettings() {\r\n      try {\r\n        this.loading = true;\r\n        const settings = await getTaxSettings();\r\n        this.settings = settings;\r\n      } catch (error) {\r\n        this.error = 'Failed to load tax settings';\r\n        throw error;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    async calculateTax({ annualIncome, includeNSSF = true, includeSHIF = true }) {\r\n      try {\r\n        if (!this.taxRates) {\r\n          throw new Error('Tax rates not loaded');\r\n        }\r\n\r\n        const calculation = calculateNetIncome({\r\n          annualIncome,\r\n          includeNSSF,\r\n          includeSHIF,\r\n          taxRates: this.taxRates,\r\n          personalRelief: this.settings?.personalReliefEnabled ? this.taxRates.personalRelief : 0\r\n        });\r\n\r\n        const summary = generateTaxSummary(calculation);\r\n        this.currentCalculation = summary;\r\n        return summary;\r\n      } catch (error) {\r\n        this.error = 'Failed to calculate tax';\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    async saveCalculation(calculation, userId) {\r\n      if (!userId) {\r\n        throw new Error('User must be logged in to save calculations');\r\n      }\r\n      await saveTaxCalculation(userId, calculation);\r\n    },\r\n\r\n    async loadCalculationHistory(userId) {\r\n      if (!userId) {\r\n        this.calculationHistory = [];\r\n        return;\r\n      }\r\n\r\n      try {\r\n        this.loading = true;\r\n        const history = await getUserCalculations(userId);\r\n        this.calculationHistory = history;\r\n      } catch (error) {\r\n        this.error = 'Failed to load calculation history';\r\n        throw error;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    async updateRates(rates) {\r\n      try {\r\n        this.loading = true;\r\n        const sanitizedRates = {\r\n          ...rates,\r\n          shifRate: Number(rates.shifRate || 0),\r\n          nssfTierIRate: Number(rates.nssfTierIRate || 0),\r\n          nssfTierIIRate: Number(rates.nssfTierIIRate || 0),\r\n          vatRate: Number(rates.vatRate || 0),\r\n          housingLevyRate: Number(rates.housingLevyRate || 0),\r\n          personalRelief: Number(rates.personalRelief || 0),\r\n          brackets: (rates.brackets || []).map(bracket => ({\r\n            min: Number(bracket.min || 0),\r\n            max: bracket.max === null ? null : Number(bracket.max || 0),\r\n            rate: Number(bracket.rate || 0)\r\n          }))\r\n        };\r\n        await updateTaxRates(sanitizedRates);\r\n        this.taxRates = sanitizedRates;\r\n      } catch (error) {\r\n        this.error = 'Failed to update tax rates';\r\n        throw error;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    clearCurrentCalculation() {\r\n      this.currentCalculation = null;\r\n    },\r\n\r\n    clearError() {\r\n      this.error = null;\r\n    }\r\n  },\r\n\r\n  getters: {\r\n    isInitialized: (state) => !!state.taxRates && !!state.settings,\r\n    currentTaxYear: (state) => state.taxRates?.year,\r\n    personalRelief: (state) => state.taxRates?.personalRelief || 0,\r\n    taxBrackets: (state) => state.taxRates?.brackets || [],\r\n    isNSSFEnabled: (state) => state.settings?.nssfEnabled,\r\n    isSHIFEnabled: (state) => state.settings?.shifEnabled,\r\n    isPersonalReliefEnabled: (state) => state.settings?.personalReliefEnabled\r\n  }\r\n});","import { render } from \"./Settings.vue?vue&type=template&id=516c8ee1&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=516c8ee1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-516c8ee1\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onSubmit","_cache","_withModifiers","args","$setup","handleSubmit","_hoisted_4","_Fragment","_renderList","form","brackets","bracket","index","_hoisted_5","_createVNode","_component_InputField","id","modelValue","min","$event","modelModifiers","number","label","type","error","bracketErrors","disabled","max","placeholder","length","rate","step","_hoisted_6","nssfTierIRate","errors","nssfTierIIRate","nssfTierILimit","nssfTierIILimit","_hoisted_7","shifRate","shifMinContribution","shifMaxContribution","_hoisted_8","housingLevyRate","_hoisted_9","_component_Button","variant","loading","taxStore","default","_withCtx","_createTextVNode","_","_hoisted_10","_toDisplayString","_createCommentVNode","useTaxStore","defineStore","state","taxRates","settings","currentCalculation","calculationHistory","actions","initialize","Promise","all","this","loadTaxRates","loadSettings","currentYear","Date","getFullYear","rates","getTaxRates","Number","vatRate","personalRelief","map","getTaxSettings","calculateTax","annualIncome","includeNSSF","includeSHIF","Error","calculation","calculateNetIncome","personalReliefEnabled","summary","generateTaxSummary","saveCalculation","userId","saveTaxCalculation","loadCalculationHistory","history","getUserCalculations","updateRates","sanitizedRates","updateTaxRates","clearCurrentCalculation","clearError","getters","isInitialized","currentTaxYear","year","taxBrackets","isNSSFEnabled","nssfEnabled","isSHIFEnabled","shifEnabled","isPersonalReliefEnabled","name","components","InputField","Button","setup","ref","async","value","console","validateForm","isValid","forEach","bracketError","Object","keys","resetForm","onMounted","__exports__","render"],"sourceRoot":""}