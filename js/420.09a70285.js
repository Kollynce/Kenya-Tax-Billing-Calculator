"use strict";(self["webpackChunkmy_tax_calculator"]=self["webpackChunkmy_tax_calculator"]||[]).push([[420],{143:function(e,t,n){n.d(t,{$D:function(){return y},CD:function(){return p},ED:function(){return m},Ee:function(){return o},_U:function(){return i},vv:function(){return a},zD:function(){return f},zZ:function(){return d}});n(8111),n(8237);const i={PERSONAL_RELIEF:28800,NSSF_TIER_I_MAX:4320,NSSF_TIER_II_MAX:18e3,NSSF_RATE:.024,SHIF_RATE:.0275,SHIF_MIN_CONTRIBUTION:300,SHIF_MAX_CONTRIBUTION:5e3,HOUSING_LEVY_RATE:.015,VAT_RATE:.16,DIGITAL_SERVICE_TAX_RATE:.015,VAT_REGISTRATION_THRESHOLD:5e6,TAX_BRACKETS:[{min:0,max:24e3,rate:10},{min:24e3,max:32333,rate:25},{min:32333,max:5e5,rate:30},{min:5e5,max:8e5,rate:32.5},{min:8e5,max:null,rate:35}],NSSF_TIER_I_RATE:.024,NSSF_TIER_II_RATE:.024};function a(e){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function o(e){return new Intl.NumberFormat("en-KE",{style:"percent",minimumFractionDigits:1,maximumFractionDigits:1}).format(e)}function r(e,{includeTierI:t=!0,includeTierII:n=!0}={}){const a=t?Math.min(e*i.NSSF_TIER_I_RATE,i.NSSF_TIER_I_MAX):0,o=n?Math.min(Math.max(0,e-i.NSSF_TIER_I_MAX)*i.NSSF_TIER_II_RATE,i.NSSF_TIER_II_MAX):0;return{tierI:a,tierII:o,total:a+o}}function s(e){const t=e*i.SHIF_RATE;return Math.min(Math.max(i.SHIF_MIN_CONTRIBUTION,t),i.SHIF_MAX_CONTRIBUTION)}function l(e){return e*i.HOUSING_LEVY_RATE}function u(e,t){const n=Math.min(Math.max(0,e-t.min),t.max?t.max-t.min:1/0);return n*t.rate}function c(e,t){return t.reduce(((t,n)=>t+u(e,n)),0)}function d({annualIncome:e,includeNSSF:t=!0,includeSHIF:n=!0,includeHousingLevy:a=!0,taxRates:o,nssfTiers:u={includeTierI:!0,includeTierII:!0},personalRelief:d=i.PERSONAL_RELIEF}){const m=e/12,p=r(m,u),f=t?p.total:0,y=n?s(m):0,g=a?l(m):0,R=12*f,h=12*y,T=12*g,v=e-(t?R:0)-(n?h:0)-(a?T:0),I=c(v,o.brackets),x=Math.max(0,I-d),b=x+R+h+T,S=e-b;return{grossIncome:e,taxableIncome:v,incomeTax:I,personalRelief:d,nssfContribution:R,nssfTierI:12*p.tierI,nssfTierII:12*p.tierII,shifContribution:h,housingLevy:T,taxAfterRelief:x,totalDeductions:b,netIncome:S,monthlyGross:m,monthlyNet:S/12,monthlyDeductions:b/12,effectiveTaxRate:b/e,monthlyBreakdown:{grossPay:m,nssf:f,nssfTierI:p.tierI,nssfTierII:p.tierII,shif:y,housingLevy:g,taxableIncome:v/12,paye:x/12,personalRelief:d/12,netPay:S/12}}}function m(e,{includeNSSF:t=!0,includeSHIF:n=!0,includeHousingLevy:a=!0,taxRates:o,nssfTiers:r={includeTierI:!0,includeTierII:!0},personalRelief:s=i.PERSONAL_RELIEF}={}){let l=e,u=3*e,c=0;const m=20,p=.01;while(c<m){const i=(l+u)/2,m=d({annualIncome:12*i,includeNSSF:t,includeSHIF:n,includeHousingLevy:a,taxRates:o,nssfTiers:r,personalRelief:s}),f=m.monthlyNet,y=f-e;if(Math.abs(y)<p)return 12*i;y>0?u=i:l=i,c++}return(l+u)/2*12}function p(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.map((t=>({name:t,gross:e.monthlyGross,deductions:e.monthlyDeductions,net:e.monthlyNet})))}function f(e){return{summary:{annualGrossIncome:e.grossIncome,annualNetIncome:e.netIncome,totalTax:e.taxAfterRelief,totalDeductions:e.totalDeductions,effectiveTaxRate:e.effectiveTaxRate},monthly:{grossIncome:e.monthlyGross,netIncome:e.monthlyNet,deductions:e.monthlyDeductions},deductions:{incomeTax:e.taxAfterRelief,nssf:e.nssfContribution,shif:e.shifContribution,personalRelief:e.personalRelief},breakdown:p(e)}}function y(e){return e*i.DIGITAL_SERVICE_TAX_RATE}},6420:function(e,t,n){n.d(t,{D_:function(){return l},F5:function(){return p},Ux:function(){return f},eF:function(){return s},ij:function(){return d},qJ:function(){return r},sn:function(){return c},uN:function(){return m}});n(4114),n(8111),n(7588),n(1701),n(8237);var i=n(7617),a=n(1394),o=(n(1920),n(143));const r={MINIMUM_HOURLY_RATES:{designer:2500,"ui-designer":3500,"graphic-designer":2800,"motion-designer":3e3,writer:2e3,"technical-writer":3e3,"content-writer":2200,scriptwriter:2500,musician:3e3,"music-producer":3500,"sound-engineer":3200,"session-musician":2500,photographer:2800,videographer:3200,"social-media":2e3,"digital-artist":2500,"voice-artist":2200,"game-developer":3500,animator:3e3,general:1500},RETAINER_SUGGESTIONS:{designer:5e4,"ui-designer":7e4,"graphic-designer":55e3,"motion-designer":6e4,writer:4e4,"technical-writer":6e4,"content-writer":45e3,scriptwriter:5e4,musician:6e4,"music-producer":7e4,"sound-engineer":65e3,"session-musician":5e4,photographer:55e3,videographer:65e3,"social-media":4e4,"digital-artist":5e4,"voice-artist":45e3,"game-developer":7e4,animator:6e4,general:35e3},PAYMENT_METHODS:[{name:"M-PESA",instructions:"Send payment to Business Number: {TILL_NUMBER}"},{name:"Bank Transfer",instructions:"Account Name: {NAME}\nBank: {BANK}\nAccount Number: {ACCOUNT}\nBranch Code: {BRANCH}"}]},s={designer:[{name:"Logo Design",description:"Custom logo design with brand guidelines",pricingOptions:[{type:"fixed",label:"Basic Package",defaultRate:3e4},{type:"fixed",label:"Premium Package",defaultRate:5e4},{type:"hourly",label:"Hourly Rate",defaultRate:2500,defaultHours:15}],commonExpenses:[{name:"Font Licensing",defaultCost:5e3},{name:"Stock Images",defaultCost:2e3}]},{name:"Website UI Design",description:"User interface design for websites",pricingOptions:[{type:"fixed",label:"Landing Page",defaultRate:25e3},{type:"fixed",label:"Full Website (5 pages)",defaultRate:75e3},{type:"hourly",label:"Hourly Rate",defaultRate:2500,defaultHours:30}],commonExpenses:[{name:"UI Kit/Template",defaultCost:8e3},{name:"Prototyping Tools",defaultCost:5e3}]},{name:"Brand Identity",description:"Complete brand identity package",pricingOptions:[{type:"fixed",label:"Standard Package",defaultRate:1e5},{type:"fixed",label:"Premium Package",defaultRate:15e4},{type:"hourly",label:"Hourly Rate",defaultRate:2500,defaultHours:50}],commonExpenses:[{name:"Print Mockups",defaultCost:15e3},{name:"Client Presentation",defaultCost:5e3}]}],"ui-designer":[{name:"UI/UX Design",description:"User interface and experience design",pricingOptions:[{type:"fixed",label:"Mobile App UI",defaultRate:12e4},{type:"fixed",label:"Web Application UI",defaultRate:18e4},{type:"hourly",label:"Hourly Rate",defaultRate:3500,defaultHours:40}],commonExpenses:[{name:"Prototyping Tools",defaultCost:12e3},{name:"User Testing",defaultCost:25e3}]}],"graphic-designer":[{name:"Marketing Collateral",description:"Design for marketing materials",pricingOptions:[{type:"fixed",label:"Social Media Pack",defaultRate:35e3},{type:"fixed",label:"Business Package",defaultRate:75e3},{type:"hourly",label:"Hourly Rate",defaultRate:2800,defaultHours:25}],commonExpenses:[{name:"Stock Assets",defaultCost:8e3},{name:"Printing Setup",defaultCost:15e3}]}],writer:[{name:"Blog Post",description:"SEO-optimized blog content",pricingOptions:[{type:"fixed",label:"Standard (1000 words)",defaultRate:1e4},{type:"fixed",label:"Long-form (2500+ words)",defaultRate:25e3},{type:"wordCount",label:"Per Word",defaultRate:10,defaultCount:1e3}],commonExpenses:[{name:"Research Materials",defaultCost:2e3},{name:"SEO Tools",defaultCost:3e3}]},{name:"Website Copy",description:"Conversion-focused website content",pricingOptions:[{type:"fixed",label:"Per Page",defaultRate:15e3},{type:"fixed",label:"Full Website Package",defaultRate:6e4},{type:"hourly",label:"Hourly Rate",defaultRate:2e3,defaultHours:30}],commonExpenses:[{name:"Competitor Analysis",defaultCost:5e3},{name:"Client Revisions",defaultCost:5e3}]},{name:"Technical Writing",description:"Documentation, guides, and manuals",pricingOptions:[{type:"fixed",label:"User Guide",defaultRate:3e4},{type:"fixed",label:"Technical Manual",defaultRate:5e4},{type:"hourly",label:"Hourly Rate",defaultRate:2500,defaultHours:20}],commonExpenses:[{name:"Specialized Research",defaultCost:8e3},{name:"Technical Editing",defaultCost:1e4}]}],musician:[{name:"Custom Composition",description:"Original music composition",pricingOptions:[{type:"fixed",label:"Short Piece (1-2 min)",defaultRate:2e4},{type:"fixed",label:"Full Track (3-5 min)",defaultRate:5e4},{type:"hourly",label:"Hourly Rate",defaultRate:3e3,defaultHours:15}],commonExpenses:[{name:"Studio Time",defaultCost:1e4},{name:"Session Musicians",defaultCost:15e3}]},{name:"Production Service",description:"Music production and mixing",pricingOptions:[{type:"fixed",label:"Single Track",defaultRate:3e4},{type:"fixed",label:"EP (4-6 Tracks)",defaultRate:12e4},{type:"hourly",label:"Hourly Rate",defaultRate:3e3,defaultHours:40}],commonExpenses:[{name:"Mixing",defaultCost:15e3},{name:"Mastering",defaultCost:1e4}]},{name:"Live Performance",description:"Live music performance",pricingOptions:[{type:"fixed",label:"Solo Performance (2hrs)",defaultRate:3e4},{type:"fixed",label:"Band Performance (2hrs)",defaultRate:8e4},{type:"hourly",label:"Hourly Rate",defaultRate:15e3,defaultHours:3}],commonExpenses:[{name:"Transport",defaultCost:5e3},{name:"Equipment Rental",defaultCost:1e4}]}],photographer:[{name:"Photography Session",description:"Professional photography services",pricingOptions:[{type:"fixed",label:"Half Day Shoot",defaultRate:35e3},{type:"fixed",label:"Full Day Shoot",defaultRate:65e3},{type:"hourly",label:"Hourly Rate",defaultRate:2800,defaultHours:4}],commonExpenses:[{name:"Equipment Rental",defaultCost:15e3},{name:"Location Fees",defaultCost:1e4},{name:"Assistant",defaultCost:5e3}]}],videographer:[{name:"Video Production",description:"Professional video services",pricingOptions:[{type:"fixed",label:"Short Video",defaultRate:5e4},{type:"fixed",label:"Corporate Video",defaultRate:15e4},{type:"hourly",label:"Hourly Rate",defaultRate:3200,defaultHours:8}],commonExpenses:[{name:"Equipment Package",defaultCost:25e3},{name:"Crew Members",defaultCost:2e4},{name:"Post-Production",defaultCost:3e4}]}],"voice-artist":[{name:"Voice Over",description:"Professional voice recording",pricingOptions:[{type:"fixed",label:"Commercial (30s)",defaultRate:15e3},{type:"fixed",label:"Corporate Narration",defaultRate:25e3},{type:"hourly",label:"Hourly Rate",defaultRate:2200,defaultHours:2}],commonExpenses:[{name:"Studio Time",defaultCost:8e3},{name:"Audio Editing",defaultCost:5e3}]}],"social-media":[{name:"Social Media Management",description:"Content creation and management",pricingOptions:[{type:"fixed",label:"Basic Monthly",defaultRate:3e4},{type:"fixed",label:"Premium Monthly",defaultRate:6e4},{type:"hourly",label:"Hourly Rate",defaultRate:2e3,defaultHours:20}],commonExpenses:[{name:"Scheduling Tools",defaultCost:5e3},{name:"Content Assets",defaultCost:8e3}]}],"game-developer":[{name:"Game Development",description:"Custom game development",pricingOptions:[{type:"fixed",label:"Mini Game",defaultRate:15e4},{type:"fixed",label:"Full Game",defaultRate:5e5},{type:"hourly",label:"Hourly Rate",defaultRate:3500,defaultHours:80}],commonExpenses:[{name:"Asset Licenses",defaultCost:25e3},{name:"Testing Services",defaultCost:3e4},{name:"Development Tools",defaultCost:15e3}]}],general:[{name:"Consulting Service",description:"Professional consulting services",pricingOptions:[{type:"fixed",label:"Single Session",defaultRate:15e3},{type:"fixed",label:"Package (5 Sessions)",defaultRate:6e4},{type:"hourly",label:"Hourly Rate",defaultRate:5e3,defaultHours:10}],commonExpenses:[{name:"Research Materials",defaultCost:5e3},{name:"Travel Expenses",defaultCost:3e3}]},{name:"Project Management",description:"Professional project management",pricingOptions:[{type:"fixed",label:"Small Project",defaultRate:5e4},{type:"fixed",label:"Large Project",defaultRate:15e4},{type:"hourly",label:"Hourly Rate",defaultRate:2500,defaultHours:40}],commonExpenses:[{name:"Project Tools",defaultCost:8e3},{name:"Team Coordination",defaultCost:5e3}]},{name:"Custom Service",description:"Custom freelance service",pricingOptions:[{type:"fixed",label:"Basic Package",defaultRate:2e4},{type:"fixed",label:"Premium Package",defaultRate:5e4},{type:"hourly",label:"Hourly Rate",defaultRate:2e3,defaultHours:20}],commonExpenses:[{name:"Materials",defaultCost:5e3},{name:"Additional Tools",defaultCost:3e3}]}]};async function l(e,t){try{const n=(0,i.rJ)(a.db,"users",e,"invoices"),o={...t,createdAt:i.Dc.now(),updatedAt:i.Dc.now(),status:"draft",number:await u(e)},r=await(0,i.gS)(n,o);return r.id}catch(n){throw console.error("Error saving invoice:",n),n}}async function u(e){if(!e)throw new Error("Authentication required to generate invoice number");try{const t=(0,i.H9)(a.db,"invoiceCounters",e),n=await(0,i.x7)(t);let o=1;n.exists()&&(o=n.data().currentNumber+1),await(0,i.BN)(t,{currentNumber:o});const r=new Date,s=r.getFullYear(),l=o.toString().padStart(4,"0");return`INV-${s}-${l}`}catch(t){throw console.error("Error generating invoice number:",t),t}}function c({profession:e,experienceYears:t,isVATRegistered:n,hasPortfolio:i,specialization:a}){const s=r.MINIMUM_HOURLY_RATES[e]||r.MINIMUM_HOURLY_RATES.general,l=Math.min(2,1+.1*t),u=i?.15:0,c=a?.2:0,d=s*l*(1+u+c),m=n?1.16*d:d;return{minimum:s,recommended:d,recommendedWithVAT:m,premium:1.5*d,premiumWithVAT:n?1.5*d*1.16:1.5*d,daily:8*d,weekly:40*d,monthly:160*d,vatRegistration:{shouldRegister:160*d*12>=o._U.VAT_REGISTRATION_THRESHOLD,projectedAnnual:160*d*12,isRegistered:n}}}function d({pricingModel:e,quantity:t=1,rate:n,hours:i,wordCount:a,expenses:r=[],isVATRegistered:s=!1,includeDigitalServiceTax:l=!1}){let u=0;"fixed"===e?u=n*t:"hourly"===e?u=n*i:"wordCount"===e&&(u=n/1e3*a);const c=r.reduce(((e,t)=>e+(t.cost||0)),0),d=s?u*o._U.VAT_RATE:0,m=l?(0,o.$D)(u):0,p=u+c+d+m;return{serviceSubtotal:u,expensesTotal:c,vat:d,dst:m,total:p,breakdown:{services:u,expenses:c,taxes:d+m}}}async function m(e,t){try{const n=(0,i.rJ)(a.db,"users",e,"projects"),o={...t,createdAt:i.Dc.now(),updatedAt:i.Dc.now(),status:"draft"},r=await(0,i.gS)(n,o);return r.id}catch(n){throw console.error("Error saving project plan:",n),n}}function p(e){const t={name:e.client?.name||"",email:e.client?.email||"",address:e.client?.address||"",phone:e.client?.phone||""},n=[];n.push({description:`${e.serviceName}: ${e.serviceDescription}`,quantity:e.quantity||1,rate:e.rate||0}),e.expenses&&e.expenses.length>0&&e.expenses.forEach((e=>{n.push({description:`Expense: ${e.name}`,quantity:1,rate:e.cost||0})}));const i={title:`Invoice for ${e.title||"Project"}`,client:t,items:n,date:new Date,dueDate:new Date(Date.now()+2592e6),includeVAT:e.isVATRegistered||!1,includeDigitalServiceTax:e.includeDigitalServiceTax||!1,notes:e.notes||"",terms:e.terms||"Payment due within 30 days of invoice date."};return i}function f(e){const t=d({pricingModel:e.pricingModel,quantity:e.quantity||1,rate:e.rate||0,hours:e.hours||0,wordCount:e.wordCount||0,expenses:e.expenses||[],isVATRegistered:e.isVATRegistered||!1,includeDigitalServiceTax:e.includeDigitalServiceTax||!1}),n={designer:[{title:"Project Overview",content:`This proposal outlines the design services to be provided for ${e.title||"your project"}. The work includes conceptualization, design development, revisions, and final delivery of all agreed-upon assets.`},{title:"Process & Timeline",content:`Our design process includes the following phases:\n1. Research and Conceptualization: 1-2 weeks\n2. Design Development: 1-2 weeks\n3. Revisions (up to 2 rounds): 1 week\n4. Final Delivery: 1 week\n\nTotal estimated timeline: ${e.timeline||"4-6 weeks"}`},{title:"Deliverables",content:`Upon completion of this project, you will receive:\n- ${e.serviceName} as specified\n- All source files in appropriate formats\n- Usage rights as outlined in the terms\n- Documentation as needed`}],writer:[{title:"Project Overview",content:`This proposal outlines the writing services to be provided for ${e.title||"your project"}. The work includes research, content creation, revisions, and final delivery of all agreed-upon content.`},{title:"Process & Timeline",content:`Our writing process includes the following phases:\n1. Research and Outline: ${"wordCount"===e.pricingModel?"1-3 days":"3-5 days"}\n2. Initial Draft: ${"wordCount"===e.pricingModel?"3-5 days":"1-2 weeks"}\n3. Revisions (up to 2 rounds): 3-5 days\n4. Final Delivery: 1-2 days\n\nTotal estimated timeline: ${e.timeline||"2-3 weeks"}`},{title:"Deliverables",content:`Upon completion of this project, you will receive:\n- ${e.serviceName} as specified${"wordCount"===e.pricingModel?` (${e.wordCount} words)`:""}\n- SEO optimization if applicable\n- All content in requested formats\n- Copyright transfer upon final payment`}],musician:[{title:"Project Overview",content:`This proposal outlines the music services to be provided for ${e.title||"your project"}. The work includes composition, production, recording, and final delivery of all agreed-upon audio assets.`},{title:"Process & Timeline",content:`Our music production process includes the following phases:\n1. Concept and Composition: 1-2 weeks\n2. Recording and Production: 1-2 weeks\n3. Mixing and Revisions: 1 week\n4. Mastering and Final Delivery: 3-5 days\n\nTotal estimated timeline: ${e.timeline||"4-6 weeks"}`},{title:"Deliverables",content:`Upon completion of this project, you will receive:\n- ${e.serviceName} as specified\n- Final audio files in industry-standard formats\n- Usage rights as outlined in the terms\n- Stems or individual tracks if requested`}],general:[{title:"Project Overview",content:`This proposal outlines the professional services to be provided for ${e.title||"your project"}. The work includes all specified deliverables and consultation as agreed upon.`},{title:"Process & Timeline",content:`Our process includes the following phases:\n1. Initial Consultation and Planning: 1 week\n2. Project Execution: ${e.timeline||"2-4 weeks"}\n3. Review and Adjustments: 1 week\n4. Final Delivery: 3-5 days\n\nTotal estimated timeline: ${e.timeline||"4-6 weeks"}`},{title:"Deliverables",content:`Upon completion of this project, you will receive:\n- ${e.serviceName} as specified\n- Documentation and reports as needed\n- Follow-up consultation if included\n- All deliverables in requested formats`}]},i=n[e.profession]||n.general;return{title:`Proposal: ${e.title||"Professional Services"}`,date:new Date,validUntil:new Date(Date.now()+2592e6),client:e.client||{},provider:e.from||{},serviceName:e.serviceName,serviceDescription:e.serviceDescription,sections:i,pricing:t,terms:e.terms||"Standard terms apply. Full payment due within 30 days of invoice.",notes:e.notes||""}}}}]);
//# sourceMappingURL=420.09a70285.js.map