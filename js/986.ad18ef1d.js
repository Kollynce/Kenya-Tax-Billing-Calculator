"use strict";(self["webpackChunksanaapesa"]=self["webpackChunksanaapesa"]||[]).push([[986],{8986:function(e,t,o){o.r(t),o.d(t,{default:function(){return oi}});var i=o(6768),a=o(4232);const r={class:"max-w-8xl mx-auto px-4 py-8"},n={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},l={class:"mb-8 flex-shrink-0"},s={class:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-8"},d={class:"lg:col-span-5 bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden flex flex-col",style:{"max-height":"900px"}},c={class:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border-b border-gray-100"},u={class:"flex justify-between items-center"},v={class:"bg-white text-xs font-medium px-2 py-1 rounded-full text-gray-500 shadow-sm"},m={class:"flex-1 overflow-y-auto custom-scrollbar p-6"},g={class:"space-y-8"},p={class:"lg:col-span-7 flex flex-col gap-6"},b={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},h={class:"overflow-y-auto custom-scrollbar p-6",style:{"max-height":"500px"}},k={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},x={class:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 border-b border-gray-100"},y={class:"flex justify-between items-center"},f={class:"bg-white text-xs font-medium px-2 py-1 rounded-full text-gray-500 shadow-sm"},L={class:"p-6"},w={class:"mb-4"},C={class:"flex overflow-x-auto custom-scrollbar-horizontal space-x-2 pb-2"},T=["onClick"],S={class:"w-full h-2 bg-gray-100 rounded-full mb-6"},I={class:"grid grid-cols-2 gap-4 mb-6"},A={class:"flex justify-between"},D={class:"mt-8 mb-8"};function j(e,t,o,j,B,P){const E=(0,i.g2)("BrandingSection"),M=(0,i.g2)("BusinessSection"),F=(0,i.g2)("ClientSection"),N=(0,i.g2)("ItemsSection"),$=(0,i.g2)("AdditionalSection"),V=(0,i.g2)("TaxSection"),q=(0,i.g2)("TemplatesSection"),U=(0,i.g2)("InvoicePreview"),X=(0,i.g2)("TaxGuidePanel");return(0,i.uX)(),(0,i.CE)("div",r,[j.loading?((0,i.uX)(),(0,i.CE)("div",n,t[16]||(t[16]=[(0,i.Lk)("div",{class:"bg-white p-8 rounded-xl shadow-lg flex flex-col items-center"},[(0,i.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500 mb-4"}),(0,i.Lk)("p",{class:"text-gray-700"},"Loading draft...")],-1)]))):(0,i.Q3)("",!0),(0,i.Lk)("div",l,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>j.goBack&&j.goBack(...e)),class:"mb-4 flex items-center text-gray-600 hover:text-gray-900 transition-colors duration-200"},t[17]||(t[17]=[(0,i.Lk)("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),(0,i.eW)(" Back ")])),t[18]||(t[18]=(0,i.Fv)('<div class="flex items-center space-x-3 mb-4" data-v-8be5b6d4><span class="inline-block px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800" data-v-8be5b6d4> Professional Invoice </span><span class="inline-block px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800" data-v-8be5b6d4> KRA Compliant </span></div><h1 class="text-3xl font-bold text-gray-900 mb-3 gradient-heading" data-v-8be5b6d4>Create Professional Invoice</h1><p class="text-lg text-gray-600" data-v-8be5b6d4>Generate detailed invoices that reflect your expertise</p>',3))]),(0,i.Lk)("div",s,[(0,i.Lk)("div",d,[(0,i.Lk)("div",c,[(0,i.Lk)("div",u,[t[19]||(t[19]=(0,i.Lk)("h3",{class:"font-medium text-gray-800"},"Invoice Details",-1)),(0,i.Lk)("span",v,(0,a.v_)(j.titleCase(j.activeSection))+" Section ",1)])]),(0,i.Lk)("div",m,[(0,i.Lk)("div",g,[(0,i.bF)(E,{invoice:j.invoice,"onUpdate:invoice":t[1]||(t[1]=e=>j.invoice=e),"is-active":"branding"===j.activeSection,"selected-theme":j.selectedTheme,"add-logo":j.addLogo,"logo-url":j.logoUrl,"color-themes":j.colorThemes,onToggleSection:j.setActiveSection,onNextSection:j.setActiveSection,"onUpdate:selectedTheme":t[2]||(t[2]=e=>j.selectedTheme=e),"onUpdate:addLogo":t[3]||(t[3]=e=>j.addLogo=e),onLogoUploaded:t[4]||(t[4]=e=>j.logoUrl=e),class:"mb-6"},null,8,["invoice","is-active","selected-theme","add-logo","logo-url","color-themes","onToggleSection","onNextSection"]),(0,i.bF)(M,{invoice:j.invoice,"onUpdate:invoice":t[5]||(t[5]=e=>j.invoice=e),"is-active":"business"===j.activeSection,onToggleSection:j.setActiveSection,onNextSection:j.setActiveSection,onPrevSection:j.setActiveSection,class:"mb-6"},null,8,["invoice","is-active","onToggleSection","onNextSection","onPrevSection"]),(0,i.bF)(F,{invoice:j.invoice,"onUpdate:invoice":t[6]||(t[6]=e=>j.invoice=e),"is-active":"client"===j.activeSection,onToggleSection:j.setActiveSection,onNextSection:j.setActiveSection,onPrevSection:j.setActiveSection,class:"mb-6"},null,8,["invoice","is-active","onToggleSection","onNextSection","onPrevSection"]),(0,i.bF)(N,{invoice:j.invoice,"onUpdate:invoice":t[7]||(t[7]=e=>j.invoice=e),"is-active":"items"===j.activeSection,onToggleSection:j.setActiveSection,onNextSection:j.setActiveSection,onPrevSection:j.setActiveSection,class:"mb-6"},null,8,["invoice","is-active","onToggleSection","onNextSection","onPrevSection"]),(0,i.bF)($,{invoice:j.invoice,"onUpdate:invoice":t[8]||(t[8]=e=>j.invoice=e),"is-active":"additional"===j.activeSection,onToggleSection:j.setActiveSection,onNextSection:j.setActiveSection,onPrevSection:j.setActiveSection,class:"mb-6"},null,8,["invoice","is-active","onToggleSection","onNextSection","onPrevSection"]),(0,i.bF)(V,{invoice:j.invoice,"onUpdate:invoice":t[9]||(t[9]=e=>j.invoice=e),"is-active":"taxes"===j.activeSection,"include-digital-service-tax":j.includeDigitalServiceTax,onToggleSection:j.setActiveSection,onNextSection:j.setActiveSection,onPrevSection:j.setActiveSection,"onUpdate:includeDigitalServiceTax":t[10]||(t[10]=e=>j.includeDigitalServiceTax=e),class:"mb-6"},null,8,["invoice","is-active","include-digital-service-tax","onToggleSection","onNextSection","onPrevSection"]),(0,i.bF)(q,{invoice:j.invoice,"onUpdate:invoice":t[11]||(t[11]=e=>j.invoice=e),"is-active":"templates"===j.activeSection,"selected-template":j.selectedTemplate,templates:j.invoiceTemplates,onToggleSection:j.setActiveSection,onPrevSection:j.setActiveSection,"onUpdate:selectedTemplate":t[12]||(t[12]=e=>j.selectedTemplate=e),"onUpdate:templateStyle":j.updateTemplateStyle,"onUpdate:templateLayout":j.updateTemplateLayout,class:"mb-6"},null,8,["invoice","is-active","selected-template","templates","onToggleSection","onPrevSection","onUpdate:templateStyle","onUpdate:templateLayout"])])])]),(0,i.Lk)("div",p,[(0,i.Lk)("div",b,[t[20]||(t[20]=(0,i.Fv)('<div class="p-4 bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-100" data-v-8be5b6d4><div class="flex justify-between items-center" data-v-8be5b6d4><h3 class="font-medium text-gray-800" data-v-8be5b6d4>Live Preview</h3><span class="bg-white text-xs font-medium px-2 py-1 rounded-full text-gray-500 shadow-sm" data-v-8be5b6d4><svg class="w-4 h-4 inline-block mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-8be5b6d4><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-v-8be5b6d4></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" data-v-8be5b6d4></path></svg> Preview </span></div></div>',1)),(0,i.Lk)("div",h,[(0,i.bF)(U,{invoice:j.invoice,"selected-theme":j.selectedTheme,"add-logo":j.addLogo,"logo-url":j.logoUrl,"include-digital-service-tax":j.includeDigitalServiceTax},null,8,["invoice","selected-theme","add-logo","logo-url","include-digital-service-tax"])])]),(0,i.Lk)("div",k,[(0,i.Lk)("div",x,[(0,i.Lk)("div",y,[t[22]||(t[22]=(0,i.Lk)("h3",{class:"font-medium text-gray-800"},"Actions",-1)),(0,i.Lk)("span",f,[t[21]||(t[21]=(0,i.Lk)("svg",{class:"w-4 h-4 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,i.eW)(" Step "+(0,a.v_)(j.currentStepIndex+1)+" of "+(0,a.v_)(j.formSections.length),1)])])]),(0,i.Lk)("div",L,[(0,i.Lk)("div",w,[(0,i.Lk)("div",C,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(j.formSections,(e=>((0,i.uX)(),(0,i.CE)("button",{key:e.id,onClick:t=>j.setActiveSection(e.id),class:(0,a.C4)(["px-3 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all duration-200",j.activeSection===e.id?"bg-green-100 text-green-800 shadow-sm":"bg-gray-50 text-gray-600 hover:bg-gray-100"])},(0,a.v_)(e.name),11,T)))),128))])]),(0,i.Lk)("div",S,[(0,i.Lk)("div",{class:"h-2 bg-gradient-to-r from-green-500 to-blue-500 rounded-full transition-all duration-300",style:(0,a.Tr)({width:(j.currentStepIndex+1)/j.formSections.length*100+"%"})},null,4)]),(0,i.Lk)("div",I,[(0,i.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>j.saveDraft&&j.saveDraft(...e)),class:"flex items-center justify-center px-6 py-3 bg-gradient-to-br from-gray-50 to-gray-100 text-gray-700 rounded-xl border border-gray-200 hover:border-gray-300 hover:from-white hover:to-gray-50 transition-all duration-200 group"},t[23]||(t[23]=[(0,i.Lk)("svg",{class:"w-5 h-5 mr-2 text-gray-500 group-hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1),(0,i.eW)(" Save Draft ")])),(0,i.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>j.downloadPDF&&j.downloadPDF(...e)),class:"flex items-center justify-center px-6 py-3 bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-400 hover:to-emerald-500 transition-all duration-200 transform hover:scale-[1.02] group shadow-md hover:shadow-lg"},t[24]||(t[24]=[(0,i.Lk)("svg",{class:"w-5 h-5 mr-2 group-hover:animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),(0,i.eW)(" Download PDF ")]))]),(0,i.Lk)("div",A,[(0,i.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>j.sendInvoice&&j.sendInvoice(...e)),class:"flex items-center px-4 py-2 text-sm bg-indigo-50 text-indigo-600 hover:bg-indigo-100 transition-all duration-200 rounded-lg"},t[25]||(t[25]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),(0,i.eW)(" Send Invoice ")]))])])])])]),(0,i.Lk)("div",D,[(0,i.bF)(X,{profession:j.profession,"monthly-income":j.formatCurrency(j.calculateMonthlyIncome()),"vat-amount":j.formatCurrency(j.calculateVAT()),"dst-amount":j.formatCurrency(j.calculateDST()),"annual-income":j.formatCurrency(j.calculateAnnualIncome())},null,8,["profession","monthly-income","vat-amount","dst-amount","annual-income"])])])}o(4114),o(8111),o(1701),o(8237);var B=o(144),P=o(1387),E=o(7617),M=o(1394);const F={class:"invoice-preview"},N={class:"p-4 bg-gray-50 border-b border-gray-200"},$={class:"flex justify-between items-center"},V={key:0,class:"mb-3"},q=["src"],U={key:0,class:"font-medium"},X={key:0,class:"font-medium"},_={class:"py-2 text-gray-800"},K={class:"py-2 text-gray-800 text-right"},W={class:"py-2 text-gray-800 text-right"},z={class:"py-2 text-gray-800 text-right"},H={class:"py-2 text-gray-800 text-right"},O={class:"pt-2 text-right font-medium"},Q={key:0},R={class:"py-1 text-right text-gray-600"},G={key:1},Y={class:"py-1 text-right text-gray-600"},J={key:1,class:"mt-6 text-gray-600 pt-4 border-t border-gray-100"},Z={key:3,class:"mt-8 text-xs text-gray-400 text-right"};function ee(e,t,o,r,n,l){return(0,i.uX)(),(0,i.CE)("div",F,[(0,i.Lk)("div",{class:(0,a.C4)(["bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",{"border-green-200":"green"===o.selectedTheme,"border-blue-200":"blue"===o.selectedTheme,"border-purple-200":"purple"===o.selectedTheme,"border-pink-200":"pink"===o.selectedTheme,"border-yellow-200":"yellow"===o.selectedTheme}])},[(0,i.Lk)("div",N,[(0,i.Lk)("div",$,[t[0]||(t[0]=(0,i.Lk)("h4",{class:"font-medium text-gray-800"},"Invoice Preview",-1)),(0,i.Lk)("span",{class:(0,a.C4)(["px-3 py-1 text-sm font-medium rounded-full",{"bg-green-100 text-green-800":"green"===o.selectedTheme,"bg-blue-100 text-blue-800":"blue"===o.selectedTheme,"bg-purple-100 text-purple-800":"purple"===o.selectedTheme,"bg-pink-100 text-pink-800":"pink"===o.selectedTheme,"bg-yellow-100 text-yellow-800":"yellow"===o.selectedTheme}])}," Live Preview ",2)])]),(0,i.Lk)("div",{class:(0,a.C4)(["p-4",{"p-2":o.invoice.compactLayout,"p-6":o.invoice.detailedLayout}])},[(0,i.Lk)("div",{class:(0,a.C4)(["mb-6",{"mb-3":o.invoice.compactLayout,"mb-8":o.invoice.detailedLayout}])},[(0,i.Lk)("div",{class:(0,a.C4)(["flex justify-between items-start mb-4",{"flex-col space-y-3":o.invoice.detailedLayout}])},[(0,i.Lk)("div",null,[o.addLogo&&o.logoUrl?((0,i.uX)(),(0,i.CE)("div",V,[(0,i.Lk)("img",{src:o.logoUrl,alt:"Business Logo",class:(0,a.C4)([{"h-16":!o.invoice.compactLayout,"h-10":o.invoice.compactLayout,"h-20":o.invoice.detailedLayout},"object-contain mb-2"])},null,10,q)])):(0,i.Q3)("",!0),(0,i.Lk)("div",{class:(0,a.C4)(["font-medium",{"text-lg":!o.invoice.compactLayout,"text-base":o.invoice.compactLayout,"text-xl":o.invoice.detailedLayout,"text-green-800":"green"===o.selectedTheme,"text-blue-800":"blue"===o.selectedTheme,"text-purple-800":"purple"===o.selectedTheme,"text-pink-800":"pink"===o.selectedTheme,"text-yellow-800":"yellow"===o.selectedTheme}])},(0,a.v_)(o.invoice.from.name||"Your Business Name"),3),(0,i.Lk)("div",{class:(0,a.C4)(["text-gray-600",{"text-sm":!o.invoice.compactLayout||o.invoice.compactLayout,"text-base":o.invoice.detailedLayout}])},(0,a.v_)(o.invoice.from.address||"Your Address"),3)]),(0,i.Lk)("div",{class:(0,a.C4)({"text-right":!o.invoice.detailedLayout})},[(0,i.Lk)("div",{class:(0,a.C4)(["font-medium text-gray-800",{"text-lg":!o.invoice.compactLayout,"text-base":o.invoice.compactLayout,"text-xl":o.invoice.detailedLayout}])},(0,a.v_)(o.invoice.title||"INVOICE"),3),(0,i.Lk)("div",{class:(0,a.C4)({"text-sm":!o.invoice.detailedLayout,"text-base":o.invoice.detailedLayout,"text-green-600":"green"===o.selectedTheme,"text-blue-600":"blue"===o.selectedTheme,"text-purple-600":"purple"===o.selectedTheme,"text-pink-600":"pink"===o.selectedTheme,"text-yellow-600":"yellow"===o.selectedTheme})},"#"+(0,a.v_)(o.invoice.invoiceNumber),3)],2)],2),(0,i.Lk)("div",{class:(0,a.C4)(["flex justify-between text-gray-600 mb-4",{"text-sm":!o.invoice.detailedLayout,"text-base":o.invoice.detailedLayout,"flex-col space-y-3":o.invoice.detailedLayout}])},[(0,i.Lk)("div",null,[o.invoice.detailedLayout?((0,i.uX)(),(0,i.CE)("div",U,"To:")):(0,i.Q3)("",!0),(0,i.Lk)("div",null,(0,a.v_)(o.invoice.detailedLayout?"":"To: ")+(0,a.v_)(o.invoice.client.name||"Client Name"),1),(0,i.Lk)("div",null,(0,a.v_)(o.invoice.client.email||"client@email.com"),1),(0,i.Lk)("div",null,(0,a.v_)(o.invoice.client.address||"Client Address"),1)]),(0,i.Lk)("div",{class:(0,a.C4)({"text-right":!o.invoice.detailedLayout})},[o.invoice.detailedLayout?((0,i.uX)(),(0,i.CE)("div",X,"Dates:")):(0,i.Q3)("",!0),(0,i.Lk)("div",null,"Issue Date: "+(0,a.v_)(o.invoice.date),1),(0,i.Lk)("div",null,"Due Date: "+(0,a.v_)(o.invoice.dueDate),1)],2)],2)],2),(0,i.Lk)("table",{class:(0,a.C4)(["w-full mb-4",{"text-sm":!o.invoice.detailedLayout,"text-base":o.invoice.detailedLayout}])},[t[4]||(t[4]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",{class:"border-b border-gray-200"},[(0,i.Lk)("th",{class:"text-left py-2 font-medium text-gray-600"},"Description"),(0,i.Lk)("th",{class:"text-right py-2 font-medium text-gray-600"},"Qty"),(0,i.Lk)("th",{class:"text-right py-2 font-medium text-gray-600"},"Rate"),(0,i.Lk)("th",{class:"text-right py-2 font-medium text-gray-600"},"Tax"),(0,i.Lk)("th",{class:"text-right py-2 font-medium text-gray-600"},"Amount")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.invoice.items,((e,t)=>((0,i.uX)(),(0,i.CE)("tr",{key:t,class:"border-b border-gray-100"},[(0,i.Lk)("td",_,(0,a.v_)(e.description||"Item Description"),1),(0,i.Lk)("td",K,(0,a.v_)(e.quantity||1),1),(0,i.Lk)("td",W,"KES "+(0,a.v_)(e.rate),1),(0,i.Lk)("td",z,(0,a.v_)(e.tax||0)+"%",1),(0,i.Lk)("td",H,"KES "+(0,a.v_)(e.rate*(e.quantity||1)),1)])))),128))]),(0,i.Lk)("tfoot",null,[(0,i.Lk)("tr",null,[t[1]||(t[1]=(0,i.Lk)("td",{class:"pt-2 text-right font-medium",colspan:"4"},"Subtotal",-1)),(0,i.Lk)("td",O,"KES "+(0,a.v_)(l.calculateSubtotal()),1)]),o.invoice.includeVAT?((0,i.uX)(),(0,i.CE)("tr",Q,[t[2]||(t[2]=(0,i.Lk)("td",{class:"py-1 text-right text-gray-600",colspan:"4"},"VAT (16%)",-1)),(0,i.Lk)("td",R,"KES "+(0,a.v_)(l.calculateVAT()),1)])):(0,i.Q3)("",!0),o.includeDigitalServiceTax?((0,i.uX)(),(0,i.CE)("tr",G,[t[3]||(t[3]=(0,i.Lk)("td",{class:"py-1 text-right text-gray-600",colspan:"4"},"Digital Service Tax (1.5%)",-1)),(0,i.Lk)("td",Y,"KES "+(0,a.v_)(l.calculateDST()),1)])):(0,i.Q3)("",!0),(0,i.Lk)("tr",null,[(0,i.Lk)("td",{class:(0,a.C4)(["py-2 text-right font-medium",{"text-green-700":"green"===o.selectedTheme,"text-blue-700":"blue"===o.selectedTheme,"text-purple-700":"purple"===o.selectedTheme,"text-pink-700":"pink"===o.selectedTheme,"text-yellow-700":"yellow"===o.selectedTheme}]),colspan:"4"},"Total",2),(0,i.Lk)("td",{class:(0,a.C4)(["py-2 text-right font-medium",{"text-green-700":"green"===o.selectedTheme,"text-blue-700":"blue"===o.selectedTheme,"text-purple-700":"purple"===o.selectedTheme,"text-pink-700":"pink"===o.selectedTheme,"text-yellow-700":"yellow"===o.selectedTheme}])}," KES "+(0,a.v_)(l.calculateTotal()),3)])])],2),o.invoice.paymentInfo.length>0?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,a.C4)(["mt-6 text-gray-600 pt-4",{"text-sm":!o.invoice.detailedLayout,"text-base":o.invoice.detailedLayout,"mt-3":o.invoice.compactLayout,"mt-8":o.invoice.detailedLayout,"border-t border-green-100":"green"===o.selectedTheme,"border-t border-blue-100":"blue"===o.selectedTheme,"border-t border-purple-100":"purple"===o.selectedTheme,"border-t border-pink-100":"pink"===o.selectedTheme,"border-t border-yellow-100":"yellow"===o.selectedTheme}])},[t[5]||(t[5]=(0,i.Lk)("div",{class:"font-medium text-gray-700 mb-1"},"Payment Details:",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.invoice.paymentInfo,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t},(0,a.v_)(e),1)))),128))],2)):(0,i.Q3)("",!0),o.invoice.notes&&o.invoice.detailedLayout?((0,i.uX)(),(0,i.CE)("div",J,[t[6]||(t[6]=(0,i.Lk)("div",{class:"font-medium text-gray-700 mb-1"},"Notes:",-1)),(0,i.Lk)("div",null,(0,a.v_)(o.invoice.notes),1)])):(0,i.Q3)("",!0),o.invoice.footer?((0,i.uX)(),(0,i.CE)("div",{key:2,class:(0,a.C4)(["mt-6 text-gray-600 text-center pt-4",{"text-sm":!o.invoice.detailedLayout,"text-base":o.invoice.detailedLayout,"mt-3":o.invoice.compactLayout,"mt-8":o.invoice.detailedLayout,"border-t border-green-100":"green"===o.selectedTheme,"border-t border-blue-100":"blue"===o.selectedTheme,"border-t border-purple-100":"purple"===o.selectedTheme,"border-t border-pink-100":"pink"===o.selectedTheme,"border-t border-yellow-100":"yellow"===o.selectedTheme}])},(0,a.v_)(o.invoice.footer),3)):(0,i.Q3)("",!0),o.invoice.detailedLayout?((0,i.uX)(),(0,i.CE)("div",Z," Created with My Tax Calculator ")):(0,i.Q3)("",!0)],2)],2)])}var te={name:"InvoicePreview",props:{invoice:{type:Object,required:!0},selectedTheme:{type:String,required:!0},addLogo:{type:Boolean,required:!0},logoUrl:{type:String,default:""},includeDigitalServiceTax:{type:Boolean,required:!0}},methods:{calculateSubtotal(){const e=this.invoice.items.reduce(((e,t)=>e+t.rate*(t.quantity||1)),0),t=this.invoice.expenses?.reduce(((e,t)=>e+(t.amount||0)),0)||0;return e+t},calculateVAT(){return this.invoice.includeVAT?.16*this.calculateSubtotal():0},calculateDST(){return this.includeDigitalServiceTax?.015*this.calculateSubtotal():0},calculateTotal(){return this.calculateSubtotal()+this.calculateVAT()+this.calculateDST()},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric"})}}},oe=o(1241);const ie=(0,oe.A)(te,[["render",ee],["__scopeId","data-v-7503913b"]]);var ae=ie,re=o(5130);const ne={class:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl border border-green-100 hover:border-green-200 transition-all duration-300"},le={class:"p-4 pt-0"},se={class:"border-t border-green-200 pt-4"},de={class:"space-y-4"},ce=["value"],ue={class:"grid grid-cols-2 gap-4"},ve=["value"],me={class:"grid grid-cols-2 gap-4"},ge=["value"],pe=["value"],be={class:"space-y-3"},he={class:"flex items-center space-x-2 mb-2"},ke=["checked"],xe={key:0,class:"text-center"},ye={class:"mt-4 flex text-sm text-gray-600"},fe={for:"file-upload",class:"relative cursor-pointer rounded-md font-medium text-green-600 hover:text-green-500 focus-within:outline-none"},Le={key:1,class:"space-y-3"},we={class:"relative w-full h-32 bg-white rounded-lg overflow-hidden"},Ce=["src"],Te={class:"flex justify-end"},Se={class:"flex justify-end mt-6"};function Ie(e,t,o,r,n,l){return(0,i.uX)(),(0,i.CE)("div",ne,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("toggle-section","branding")),class:"w-full p-4 flex items-start space-x-3 text-left"},t[14]||(t[14]=[(0,i.Fv)('<div class="p-2 bg-white rounded-lg shadow-sm"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><div><h3 class="font-medium text-gray-900">Invoice Branding</h3><p class="text-sm text-gray-600 mt-1">Customize your invoice appearance and branding</p></div>',2)])),(0,i.bo)((0,i.Lk)("div",le,[(0,i.Lk)("div",se,[(0,i.Lk)("div",de,[(0,i.Lk)("div",null,[t[15]||(t[15]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Invoice Title",-1)),(0,i.Lk)("input",{value:o.invoice.title,onInput:t[1]||(t[1]=t=>e.$emit("update:invoice",{...o.invoice,title:t.target.value})),type:"text",placeholder:"Invoice",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,ce)]),(0,i.Lk)("div",ue,[(0,i.Lk)("div",null,[t[16]||(t[16]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Invoice Number",-1)),(0,i.Lk)("input",{value:o.invoice.invoiceNumber,onInput:t[2]||(t[2]=t=>e.$emit("update:invoice",{...o.invoice,invoiceNumber:t.target.value})),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,ve),t[17]||(t[17]=(0,i.Lk)("p",{class:"mt-1 text-xs text-gray-500"},"Automatically generated",-1))])]),(0,i.Lk)("div",me,[(0,i.Lk)("div",null,[t[18]||(t[18]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Issue Date",-1)),(0,i.Lk)("input",{value:o.invoice.date,onInput:t[3]||(t[3]=t=>e.$emit("update:invoice",{...o.invoice,date:t.target.value})),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,ge)]),(0,i.Lk)("div",null,[t[19]||(t[19]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Due Date",-1)),(0,i.Lk)("input",{value:o.invoice.dueDate,onInput:t[4]||(t[4]=t=>e.$emit("update:invoice",{...o.invoice,dueDate:t.target.value})),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,pe)])]),(0,i.Lk)("div",be,[t[26]||(t[26]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Company Logo",-1)),(0,i.Lk)("div",he,[(0,i.Lk)("input",{type:"checkbox",id:"addLogo",checked:o.addLogo,class:"w-4 h-4 text-green-600 rounded focus:ring-green-500",onChange:t[5]||(t[5]=t=>e.$emit("update:addLogo",t.target.checked))},null,40,ke),t[20]||(t[20]=(0,i.Lk)("label",{for:"addLogo",class:"text-sm text-gray-700"},"Include Logo on Invoice",-1))]),o.addLogo?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,a.C4)(["relative border-2 border-dashed border-gray-300 rounded-lg p-6 transition-all duration-200",{"border-green-300 bg-green-50":n.isDragging}]),onDragenter:t[9]||(t[9]=(0,re.D$)((e=>n.isDragging=!0),["prevent"])),onDragleave:t[10]||(t[10]=(0,re.D$)((e=>n.isDragging=!1),["prevent"])),onDragover:t[11]||(t[11]=(0,re.D$)((()=>{}),["prevent"])),onDrop:t[12]||(t[12]=(0,re.D$)(((...e)=>l.onDrop&&l.onDrop(...e)),["prevent"]))},[o.logoUrl?((0,i.uX)(),(0,i.CE)("div",Le,[(0,i.Lk)("div",we,[(0,i.Lk)("img",{src:o.logoUrl,alt:"Logo Preview",class:"w-full h-full object-contain"},null,8,Ce),(0,i.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.removeLogo&&l.removeLogo(...e)),class:"absolute top-2 right-2 p-1 bg-red-100 rounded-full text-red-600 hover:bg-red-200"},t[25]||(t[25]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),(0,i.Lk)("div",Te,[(0,i.Lk)("button",{onClick:t[8]||(t[8]=t=>e.$refs.logoUpload.click()),class:"text-sm text-green-600 hover:text-green-700"}," Change Logo ")])])):((0,i.uX)(),(0,i.CE)("div",xe,[t[23]||(t[23]=(0,i.Lk)("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[(0,i.Lk)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4-4m4-12h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),(0,i.Lk)("div",ye,[(0,i.Lk)("label",fe,[t[21]||(t[21]=(0,i.Lk)("span",null,"Upload a file",-1)),(0,i.Lk)("input",{id:"file-upload",ref:"logoUpload",type:"file",class:"sr-only",accept:"image/*",onChange:t[6]||(t[6]=(...e)=>l.onLogoUpload&&l.onLogoUpload(...e))},null,544)]),t[22]||(t[22]=(0,i.Lk)("p",{class:"pl-1"},"or drag and drop",-1))]),t[24]||(t[24]=(0,i.Lk)("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 5MB",-1))]))],34)):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",Se,[(0,i.Lk)("button",{onClick:t[13]||(t[13]=t=>e.$emit("next-section","business")),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center"},t[27]||(t[27]=[(0,i.eW)(" Next: Your Details "),(0,i.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])],512),[[re.aG,o.isActive]])])}var Ae={name:"BrandingSection",props:{invoice:{type:Object,required:!0},isActive:{type:Boolean,default:!1},selectedTheme:{type:String,required:!0},addLogo:{type:Boolean,required:!0},logoUrl:{type:String,default:""},colorThemes:{type:Array,required:!0}},data(){return{isDragging:!1}},emits:["toggle-section","next-section","update:selectedTheme","update:addLogo","logo-uploaded","update:invoice"],methods:{onLogoUpload(e){const t=e.target.files[0];this.handleFile(t)},onDrop(e){this.isDragging=!1;const t=e.dataTransfer.files[0];t&&t.type.startsWith("image/")&&this.handleFile(t)},handleFile(e){if(e&&e.size<=5242880){const t=new FileReader;t.onload=e=>{this.$emit("logo-uploaded",e.target.result)},t.readAsDataURL(e)}else alert("Please upload an image file under 5MB")},removeLogo(){this.$emit("logo-uploaded",""),this.$refs.logoUpload&&(this.$refs.logoUpload.value="")}}};const De=(0,oe.A)(Ae,[["render",Ie]]);var je=De;const Be={class:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl border border-blue-100 hover:border-blue-200 transition-all duration-300"},Pe={class:"p-4 pt-0"},Ee={class:"border-t border-blue-200 pt-4"},Me={class:"space-y-4"},Fe=["value"],Ne=["value"],$e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve=["value"],qe=["value"],Ue={class:"flex justify-between mt-6"};function Xe(e,t,o,a,r,n){return(0,i.uX)(),(0,i.CE)("div",Be,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("toggle-section","business")),class:"w-full p-4 flex items-start space-x-3 text-left"},t[7]||(t[7]=[(0,i.Fv)('<div class="p-2 bg-white rounded-lg shadow-sm"><svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"></path></svg></div><div><h3 class="font-medium text-gray-900">Business Details</h3><p class="text-sm text-gray-600 mt-1">Add your business information and contact details</p></div>',2)])),(0,i.bo)((0,i.Lk)("div",Pe,[(0,i.Lk)("div",Ee,[(0,i.Lk)("div",Me,[(0,i.Lk)("div",null,[t[8]||(t[8]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Business Name",-1)),(0,i.Lk)("input",{value:o.invoice.from.name,onInput:t[1]||(t[1]=e=>a.updateFromField("name",e.target.value)),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,Fe)]),(0,i.Lk)("div",null,[t[9]||(t[9]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),(0,i.Lk)("textarea",{value:o.invoice.from.address,onInput:t[2]||(t[2]=e=>a.updateFromField("address",e.target.value)),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,Ne)]),(0,i.Lk)("div",$e,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),(0,i.Lk)("input",{value:o.invoice.from.email,onInput:t[3]||(t[3]=e=>a.updateFromField("email",e.target.value)),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,Ve)]),(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),(0,i.Lk)("input",{value:o.invoice.from.phone,onInput:t[4]||(t[4]=e=>a.updateFromField("phone",e.target.value)),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600 transition-all duration-200"},null,40,qe)])])]),(0,i.Lk)("div",Ue,[(0,i.Lk)("button",{onClick:t[5]||(t[5]=t=>e.$emit("prev-section","branding")),class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200 flex items-center"},t[12]||(t[12]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),(0,i.eW)(" Previous ")])),(0,i.Lk)("button",{onClick:t[6]||(t[6]=t=>e.$emit("next-section","client")),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center"},t[13]||(t[13]=[(0,i.eW)(" Next: Client Details "),(0,i.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])],512),[[re.aG,o.isActive]])])}var _e={name:"BusinessSection",props:{invoice:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},emits:["toggle-section","next-section","prev-section","update:invoice"],setup(e,{emit:t}){const o=(o,i)=>{t("update:invoice",{...e.invoice,from:{...e.invoice.from,[o]:i}})},a=async()=>{try{const o=M.j.currentUser;if(!o)return;const i=(0,E.H9)(M.db,"users",o.uid),a=await(0,E.x7)(i);if(a.exists()){const i=a.data();i.company&&t("update:invoice",{...e.invoice,from:{name:i.company.name||"",email:i.company.email||o.email,phone:i.company.phone||"",address:i.company.address||"",city:i.company.city||"",postalCode:i.company.postalCode||"",country:i.company.country||"Kenya",regNumber:i.company.regNumber||"",taxId:i.company.taxId||"",vatNumber:i.company.vatNumber||"",bankName:i.company.bankName||"",accountName:i.company.accountName||"",accountNumber:i.company.accountNumber||"",branchCode:i.company.branchCode||"",swiftCode:i.company.swiftCode||""}})}}catch(o){console.error("Error loading business details:",o)}};return(0,i.sV)((()=>{a()})),{updateFromField:o}}};const Ke=(0,oe.A)(_e,[["render",Xe]]);var We=Ke;const ze={class:"bg-gradient-to-br from-purple-50 to-pink-100 rounded-xl border border-purple-100 hover:border-purple-200 transition-all duration-300"},He={class:"p-4 pt-0"},Oe={class:"border-t border-purple-200 pt-4"},Qe={class:"space-y-4"},Re=["value"],Ge=["value"],Ye={class:"grid grid-cols-2 gap-4"},Je=["value"],Ze=["value"],et={class:"flex justify-between mt-6"};function tt(e,t,o,a,r,n){return(0,i.uX)(),(0,i.CE)("div",ze,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("toggle-section","client")),class:"w-full p-4 flex items-start space-x-3 text-left"},t[7]||(t[7]=[(0,i.Fv)('<div class="p-2 bg-white rounded-lg shadow-sm"><svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h3 class="font-medium text-gray-900">Client Details</h3><p class="text-sm text-gray-600 mt-1">Add your client&#39;s information and contact details</p></div>',2)])),(0,i.bo)((0,i.Lk)("div",He,[(0,i.Lk)("div",Oe,[(0,i.Lk)("div",Qe,[(0,i.Lk)("div",null,[t[8]||(t[8]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Client Name",-1)),(0,i.Lk)("input",{value:o.invoice.client.name,onInput:t[1]||(t[1]=e=>n.updateClientField("name",e.target.value)),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600"},null,40,Re)]),(0,i.Lk)("div",null,[t[9]||(t[9]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Address",-1)),(0,i.Lk)("textarea",{value:o.invoice.client.address,onInput:t[2]||(t[2]=e=>n.updateClientField("address",e.target.value)),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600"},null,40,Ge)]),(0,i.Lk)("div",Ye,[(0,i.Lk)("div",null,[t[10]||(t[10]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),(0,i.Lk)("input",{value:o.invoice.client.email,onInput:t[3]||(t[3]=e=>n.updateClientField("email",e.target.value)),type:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600"},null,40,Je)]),(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),(0,i.Lk)("input",{value:o.invoice.client.phone,onInput:t[4]||(t[4]=e=>n.updateClientField("phone",e.target.value)),type:"tel",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600"},null,40,Ze)])])]),(0,i.Lk)("div",et,[(0,i.Lk)("button",{onClick:t[5]||(t[5]=t=>e.$emit("prev-section","business")),class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200 flex items-center"},t[12]||(t[12]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),(0,i.eW)(" Previous ")])),(0,i.Lk)("button",{onClick:t[6]||(t[6]=t=>e.$emit("next-section","items")),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center"},t[13]||(t[13]=[(0,i.eW)(" Next: Invoice Items "),(0,i.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])],512),[[re.aG,o.isActive]])])}var ot={name:"ClientSection",props:{invoice:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},emits:["toggle-section","next-section","prev-section","update:invoice"],methods:{updateClientField(e,t){this.$emit("update:invoice",{...this.invoice,client:{...this.invoice.client,[e]:t}})}}};const it=(0,oe.A)(ot,[["render",tt]]);var at=it;const rt={class:"bg-gradient-to-br from-teal-50 to-cyan-100 rounded-xl border border-teal-100 hover:border-teal-200 transition-all duration-300"},nt={class:"p-4 pt-0"},lt={class:"border-t border-teal-200 pt-4"},st={class:"space-y-4"},dt={class:"grid grid-cols-12 gap-4"},ct={class:"col-span-6"},ut=["value","onInput"],vt={class:"col-span-2"},mt=["value","onInput"],gt={class:"col-span-3"},pt=["value","onInput"],bt={class:"col-span-1 flex items-end justify-end"},ht=["onClick"],kt={class:"flex justify-between mt-6"};function xt(e,t,o,a,r,n){return(0,i.uX)(),(0,i.CE)("div",rt,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("toggle-section","items")),class:"w-full p-4 flex items-start space-x-3 text-left"},t[4]||(t[4]=[(0,i.Fv)('<div class="p-2 bg-white rounded-lg shadow-sm"><svg class="w-5 h-5 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div><div><h3 class="font-medium text-gray-900">Invoice Items</h3><p class="text-sm text-gray-600 mt-1">Add and manage your invoice line items</p></div>',2)])),(0,i.bo)((0,i.Lk)("div",nt,[(0,i.Lk)("div",lt,[(0,i.Lk)("div",st,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.invoice.items,((e,o)=>((0,i.uX)(),(0,i.CE)("div",{key:o,class:"p-4 bg-white/70 rounded-lg hover:bg-white/90 transition-all duration-200"},[(0,i.Lk)("div",dt,[(0,i.Lk)("div",ct,[t[5]||(t[5]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),(0,i.Lk)("input",{value:e.description,onInput:e=>n.updateItem(o,"description",e.target.value),type:"text",class:"mt-1 block w-full rounded-md border-teal-200 bg-white/80 shadow-sm focus:border-teal-400 focus:ring-teal-400"},null,40,ut)]),(0,i.Lk)("div",vt,[t[6]||(t[6]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Quantity",-1)),(0,i.Lk)("input",{value:e.quantity,onInput:e=>n.updateItem(o,"quantity",Number(e.target.value)),type:"number",min:"1",class:"mt-1 block w-full rounded-md border-teal-200 bg-white/80 shadow-sm focus:border-teal-400 focus:ring-teal-400"},null,40,mt)]),(0,i.Lk)("div",gt,[t[7]||(t[7]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Rate",-1)),(0,i.Lk)("input",{value:e.rate,onInput:e=>n.updateItem(o,"rate",Number(e.target.value)),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-teal-200 bg-white/80 shadow-sm focus:border-teal-400 focus:ring-teal-400"},null,40,pt)]),(0,i.Lk)("div",bt,[(0,i.Lk)("button",{onClick:e=>n.removeItem(o),class:"text-red-600 hover:text-red-800 focus:outline-none"},t[8]||(t[8]=[(0,i.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ht)])])])))),128)),(0,i.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.addItem&&n.addItem(...e)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 transition-all duration-200"},t[9]||(t[9]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,i.eW)(" Add Item ")]))]),(0,i.Lk)("div",kt,[(0,i.Lk)("button",{onClick:t[2]||(t[2]=t=>e.$emit("prev-section","client")),class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200 flex items-center"},t[10]||(t[10]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),(0,i.eW)(" Previous ")])),(0,i.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("next-section","additional")),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center"},t[11]||(t[11]=[(0,i.eW)(" Next: Additional Info "),(0,i.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])],512),[[re.aG,o.isActive]])])}o(2489);var yt={name:"ItemsSection",props:{invoice:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},emits:["toggle-section","next-section","prev-section","update:invoice"],methods:{updateItem(e,t,o){const i=[...this.invoice.items];i[e]={...i[e],[t]:o},this.$emit("update:invoice",{...this.invoice,items:i})},addItem(){const e=[...this.invoice.items,{description:"",quantity:1,rate:0,details:[]}];this.$emit("update:invoice",{...this.invoice,items:e})},removeItem(e){const t=this.invoice.items.filter(((t,o)=>o!==e));this.$emit("update:invoice",{...this.invoice,items:t})}}};const ft=(0,oe.A)(yt,[["render",xt]]);var Lt=ft;const wt={class:"bg-gradient-to-br from-amber-50 to-yellow-100 rounded-xl border border-amber-100 hover:border-amber-200 transition-all duration-300"},Ct={class:"p-4 pt-0"},Tt={class:"border-t border-amber-200 pt-4"},St={class:"space-y-4"},It=["value","onInput"],At=["onClick"],Dt={class:"flex justify-between mt-6"};function jt(e,t,o,a,r,n){return(0,i.uX)(),(0,i.CE)("div",wt,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("toggle-section","additional")),class:"w-full p-4 flex items-start space-x-3 text-left"},t[4]||(t[4]=[(0,i.Fv)('<div class="p-2 bg-white rounded-lg shadow-sm"><svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h3 class="font-medium text-gray-900">Additional Information</h3><p class="text-sm text-gray-600 mt-1">Add payment details and other information</p></div>',2)])),(0,i.bo)((0,i.Lk)("div",Ct,[(0,i.Lk)("div",Tt,[(0,i.Lk)("div",St,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.invoice.paymentInfo,((e,o)=>((0,i.uX)(),(0,i.CE)("div",{key:o,class:"flex items-center space-x-2"},[(0,i.Lk)("input",{value:e,onInput:e=>a.updatePaymentInfo(o,e.target.value),type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-green-600 focus:ring-green-600"},null,40,It),(0,i.Lk)("button",{onClick:e=>a.removePaymentInfo(o),class:"text-red-600 hover:text-red-800"},t[5]||(t[5]=[(0,i.Lk)("span",{class:"sr-only"},"Remove payment info",-1),(0,i.eW)(" Ã— ")]),8,At)])))),128)),(0,i.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.addPaymentInfo&&a.addPaymentInfo(...e)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 transition-all duration-200"},t[6]||(t[6]=[(0,i.Lk)("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),(0,i.eW)(" Add Payment Info ")]))]),(0,i.Lk)("div",Dt,[(0,i.Lk)("button",{onClick:t[2]||(t[2]=t=>e.$emit("prev-section","items")),class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200 flex items-center"},t[7]||(t[7]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),(0,i.eW)(" Previous ")])),(0,i.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("next-section","taxes")),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center"},t[8]||(t[8]=[(0,i.eW)(" Next: Tax Settings "),(0,i.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])],512),[[re.aG,o.isActive]])])}var Bt={name:"AdditionalSection",props:{invoice:{type:Object,required:!0},isActive:{type:Boolean,default:!1}},emits:["toggle-section","next-section","prev-section","update:invoice"],setup(e,{emit:t}){const o=()=>{const o=[...e.invoice.paymentInfo,""];t("update:invoice",{...e.invoice,paymentInfo:o})},a=o=>{const i=[...e.invoice.paymentInfo];i.splice(o,1),t("update:invoice",{...e.invoice,paymentInfo:i})},r=(o,i)=>{const a=[...e.invoice.paymentInfo];a[o]=i,t("update:invoice",{...e.invoice,paymentInfo:a})},n=async()=>{try{const o=M.j.currentUser;if(!o)return;const i=(0,E.H9)(M.db,"users",o.uid),a=await(0,E.x7)(i);if(a.exists()){const o=a.data();if(o.company){const i=[`Bank: ${o.company.bankName||""}`,`Account Name: ${o.company.accountName||""}`,`Account Number: ${o.company.accountNumber||""}`,`Branch Code: ${o.company.branchCode||""}`,`Swift Code: ${o.company.swiftCode||""}`].filter((e=>e.split(": ")[1]));i.length>0&&t("update:invoice",{...e.invoice,paymentInfo:i})}}}catch(o){console.error("Error loading payment details:",o)}};return(0,i.sV)((()=>{n()})),{addPaymentInfo:o,removePaymentInfo:a,updatePaymentInfo:r}}};const Pt=(0,oe.A)(Bt,[["render",jt]]);var Et=Pt;const Mt={class:"bg-gradient-to-br from-red-50 to-rose-100 rounded-xl border border-red-100 hover:border-red-200 transition-all duration-300"},Ft={class:"p-4 pt-0"},Nt={class:"border-t border-red-200 pt-4"},$t={class:"space-y-4"},Vt={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},qt={class:"flex items-center space-x-2"},Ut=["checked"],Xt={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},_t={class:"flex items-center space-x-2"},Kt=["checked"],Wt={key:0,class:"transition-all duration-300"},zt=["value"],Ht={class:"flex justify-between mt-6"};function Ot(e,t,o,a,r,n){return(0,i.uX)(),(0,i.CE)("div",Mt,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("toggle-section","taxes")),class:"w-full p-4 flex items-start space-x-3 text-left"},t[6]||(t[6]=[(0,i.Fv)('<div class="p-2 bg-white rounded-lg shadow-sm"><svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"></path></svg></div><div><h3 class="font-medium text-gray-900">Tax Settings</h3><p class="text-sm text-gray-600 mt-1">Configure VAT and other tax settings</p></div>',2)])),(0,i.bo)((0,i.Lk)("div",Ft,[(0,i.Lk)("div",Nt,[(0,i.Lk)("div",$t,[(0,i.Lk)("div",Vt,[(0,i.Lk)("div",qt,[(0,i.Lk)("input",{type:"checkbox",id:"includeVAT",checked:o.invoice.includeVAT,onChange:t[1]||(t[1]=t=>e.$emit("update:invoice",{...o.invoice,includeVAT:t.target.checked})),class:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500"},null,40,Ut),t[7]||(t[7]=(0,i.Lk)("label",{for:"includeVAT",class:"text-sm text-gray-700"},"Include VAT (16%)",-1))]),t[8]||(t[8]=(0,i.Lk)("span",{class:"text-xs px-2 py-1 bg-indigo-100 text-indigo-600 font-medium rounded-full"},"Required if registered",-1))]),(0,i.Lk)("div",Xt,[(0,i.Lk)("div",_t,[(0,i.Lk)("input",{type:"checkbox",id:"includeDigitalServiceTax",checked:o.includeDigitalServiceTax,class:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-500",onChange:t[2]||(t[2]=t=>e.$emit("update:includeDigitalServiceTax",t.target.checked))},null,40,Kt),t[9]||(t[9]=(0,i.Lk)("label",{for:"includeDigitalServiceTax",class:"text-sm text-gray-700"},"Include Digital Service Tax (1.5%)",-1))]),t[10]||(t[10]=(0,i.Lk)("span",{class:"text-xs px-2 py-1 bg-indigo-100 text-indigo-600 font-medium rounded-full"},"For digital services",-1))]),o.invoice.includeVAT?((0,i.uX)(),(0,i.CE)("div",Wt,[t[11]||(t[11]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"VAT Number (if registered)",-1)),(0,i.Lk)("input",{value:o.invoice.from.vatNumber,onInput:t[3]||(t[3]=e=>n.updateVatNumber(e.target.value)),type:"text",placeholder:"e.g., P051234567T",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-600 focus:ring-indigo-600"},null,40,zt)])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",Ht,[(0,i.Lk)("button",{onClick:t[4]||(t[4]=t=>e.$emit("prev-section","additional")),class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200 flex items-center"},t[12]||(t[12]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),(0,i.eW)(" Previous ")])),(0,i.Lk)("button",{onClick:t[5]||(t[5]=t=>e.$emit("next-section","templates")),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center"},t[13]||(t[13]=[(0,i.eW)(" Next: Templates "),(0,i.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])],512),[[re.aG,o.isActive]])])}var Qt={name:"TaxSection",props:{invoice:{type:Object,required:!0},isActive:{type:Boolean,default:!1},includeDigitalServiceTax:{type:Boolean,required:!0}},emits:["toggle-section","next-section","prev-section","update:includeDigitalServiceTax","update:invoice"],methods:{updateVatNumber(e){this.$emit("update:invoice",{...this.invoice,from:{...this.invoice.from,vatNumber:e}})},updateVAT(e){this.$emit("update:invoice",{...this.invoice,includeVAT:e})},updateDigitalServiceTax(e){this.$emit("update:include-digital-service-tax",e)}}};const Rt=(0,oe.A)(Qt,[["render",Ot]]);var Gt=Rt;const Yt={class:"bg-gradient-to-br from-gray-50 to-slate-100 rounded-xl border border-gray-100 hover:border-gray-200 transition-all duration-300"},Jt={class:"p-4 pt-0"},Zt={class:"border-t border-gray-200 pt-4"},eo={class:"space-y-6"},to={class:"grid grid-cols-2 gap-4"},oo=["onClick"],io={class:"h-36 bg-white border-b border-gray-100 p-2"},ao={key:0,class:"w-full p-2"},ro={key:1,class:"w-full p-2"},no={key:2,class:"w-full p-2"},lo={class:"p-3"},so={class:"text-xs text-gray-500 mt-1"},co={key:0,class:"bg-white p-3 rounded-lg border border-gray-100"},uo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vo={class:"flex space-x-2"},mo=["onClick"],go=["value"],po=["value"],bo={class:"flex justify-center"},ho={class:"flex justify-between mt-6"};function ko(e,t,o,r,n,l){return(0,i.uX)(),(0,i.CE)("div",Yt,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("toggle-section","templates")),class:"w-full p-4 flex items-start space-x-3 text-left"},t[7]||(t[7]=[(0,i.Fv)('<div class="p-2 bg-white rounded-lg shadow-sm" data-v-d003d584><svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-d003d584><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" data-v-d003d584></path></svg></div><div data-v-d003d584><h3 class="font-medium text-gray-900" data-v-d003d584>Templates</h3><p class="text-sm text-gray-600 mt-1" data-v-d003d584>Choose and customize invoice templates</p></div>',2)])),(0,i.bo)((0,i.Lk)("div",Jt,[(0,i.Lk)("div",Zt,[(0,i.Lk)("div",eo,[(0,i.Lk)("div",null,[t[11]||(t[11]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Choose Template",-1)),(0,i.Lk)("div",to,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.templates,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,onClick:t=>l.selectTemplate(e.id),class:(0,a.C4)(["border rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md overflow-hidden",o.selectedTemplate===e.id?"border-amber-400 ring-2 ring-amber-200":"border-gray-200"])},[(0,i.Lk)("div",io,[(0,i.Lk)("div",{class:(0,a.C4)(["w-full h-full flex items-center justify-center",{"bg-green-50":1===e.id,"bg-blue-50":2===e.id,"bg-gray-50":3===e.id}])},[1===e.id?((0,i.uX)(),(0,i.CE)("div",ao,t[8]||(t[8]=[(0,i.Fv)('<div class="flex justify-between text-xs border-b border-green-200 pb-1 mb-1" data-v-d003d584><div class="font-medium" data-v-d003d584>INVOICE</div><div data-v-d003d584>#12345</div></div><div class="h-2 bg-green-200 rounded w-3/4 mb-1" data-v-d003d584></div><div class="h-2 bg-gray-200 rounded w-1/2 mb-2" data-v-d003d584></div><div class="flex justify-between mb-1" data-v-d003d584><div class="h-1 bg-gray-200 rounded w-1/4" data-v-d003d584></div><div class="h-1 bg-gray-200 rounded w-1/4" data-v-d003d584></div></div><div class="h-1 bg-gray-200 rounded w-full mb-1" data-v-d003d584></div><div class="h-1 bg-gray-200 rounded w-full mb-1" data-v-d003d584></div><div class="h-4 bg-green-100 rounded-full w-1/3 mt-2 mx-auto" data-v-d003d584></div>',7)]))):(0,i.Q3)("",!0),2===e.id?((0,i.uX)(),(0,i.CE)("div",ro,t[9]||(t[9]=[(0,i.Fv)('<div class="flex mb-1" data-v-d003d584><div class="w-1/4" data-v-d003d584><div class="h-5 w-5 mx-auto rounded-full bg-blue-300" data-v-d003d584></div></div><div class="w-3/4 pl-1" data-v-d003d584><div class="h-2 bg-blue-200 rounded w-3/4 mb-1" data-v-d003d584></div><div class="h-2 bg-gray-200 rounded w-1/2 mb-1" data-v-d003d584></div><div class="h-1 bg-gray-100 rounded w-full mb-2" data-v-d003d584></div></div></div><div class="h-px bg-blue-200 w-full mb-1" data-v-d003d584></div><div class="flex justify-between items-center mb-1" data-v-d003d584><div class="h-2 bg-gray-200 rounded w-1/2" data-v-d003d584></div><div class="h-2 bg-blue-200 rounded w-1/4" data-v-d003d584></div></div><div class="flex justify-between items-center mb-1" data-v-d003d584><div class="h-2 bg-gray-200 rounded w-1/3" data-v-d003d584></div><div class="h-2 bg-blue-200 rounded w-1/4" data-v-d003d584></div></div><div class="h-3 bg-blue-200 rounded-sm w-1/2 mt-2 ml-auto" data-v-d003d584></div>',5)]))):(0,i.Q3)("",!0),3===e.id?((0,i.uX)(),(0,i.CE)("div",no,t[10]||(t[10]=[(0,i.Fv)('<div class="text-center mb-2" data-v-d003d584><div class="h-3 bg-gray-300 rounded w-1/3 mx-auto mb-1" data-v-d003d584></div></div><div class="w-full flex justify-center mb-2" data-v-d003d584><div class="h-px bg-gray-300 w-1/4" data-v-d003d584></div></div><div class="flex flex-col items-center" data-v-d003d584><div class="h-1 bg-gray-200 rounded w-3/4 mb-2" data-v-d003d584></div><div class="h-1 bg-gray-200 rounded w-2/3 mb-2" data-v-d003d584></div><div class="h-1 bg-gray-200 rounded w-1/2 mb-2" data-v-d003d584></div></div><div class="mt-2 flex justify-between px-2" data-v-d003d584><div class="h-2 bg-gray-300 rounded w-1/5" data-v-d003d584></div><div class="h-2 bg-gray-300 rounded w-1/5" data-v-d003d584></div></div>',4)]))):(0,i.Q3)("",!0)],2)]),(0,i.Lk)("div",lo,[(0,i.Lk)("p",{class:(0,a.C4)(["font-medium",o.selectedTemplate===e.id?"text-amber-700":"text-gray-700"])},(0,a.v_)(e.name),3),(0,i.Lk)("p",so,(0,a.v_)(e.description),1)])],10,oo)))),128))])]),l.selectedTemplateObj?((0,i.uX)(),(0,i.CE)("div",co,[t[15]||(t[15]=(0,i.Lk)("h4",{class:"font-medium text-gray-800 mb-2"},"Template Options",-1)),(0,i.Lk)("div",uo,[(0,i.Lk)("div",null,[t[12]||(t[12]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Color Scheme",-1)),(0,i.Lk)("div",vo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.templateColors,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.name,onClick:t=>l.updateTemplateStyle(e.value),class:(0,a.C4)(["w-6 h-6 rounded-full cursor-pointer border template-style-indicator",[l.selectedTemplateObj.style===e.value?"ring-2 ring-offset-2 ring-gray-400":"",`bg-${e.value}-500 border-${e.value}-600`]])},null,10,mo)))),128))])]),(0,i.Lk)("div",null,[t[14]||(t[14]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Layout Style",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedTemplateObj.layout=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-amber-600 focus:ring-amber-600",onChange:t[2]||(t[2]=e=>l.updateTemplateLayout(l.selectedTemplateObj.layout))},t[13]||(t[13]=[(0,i.Lk)("option",{value:"standard"},"Standard",-1),(0,i.Lk)("option",{value:"compact"},"Compact",-1),(0,i.Lk)("option",{value:"detailed"},"Detailed",-1)]),544),[[re.u1,l.selectedTemplateObj.layout]])])])])):(0,i.Q3)("",!0),(0,i.Lk)("div",null,[t[16]||(t[16]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Custom Footer Text",-1)),(0,i.Lk)("input",{value:o.invoice.footer,onInput:t[3]||(t[3]=e=>l.updateFooter(e.target.value)),type:"text",placeholder:"Thank you for your business",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-600 focus:ring-amber-600"},null,40,go),t[17]||(t[17]=(0,i.Lk)("p",{class:"text-xs text-gray-500 mt-1"},"This text will appear at the bottom of your invoice",-1))]),(0,i.Lk)("div",null,[t[18]||(t[18]=(0,i.Lk)("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reference Number (Optional)",-1)),(0,i.Lk)("input",{value:o.invoice.reference,onInput:t[4]||(t[4]=e=>l.updateReference(e.target.value)),type:"text",placeholder:"e.g., Project ID or PO number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-amber-600 focus:ring-amber-600"},null,40,po),t[19]||(t[19]=(0,i.Lk)("p",{class:"text-xs text-gray-500 mt-1"},"Add an optional reference for your records",-1))]),(0,i.Lk)("div",bo,[(0,i.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>l.scrollToPreview&&l.scrollToPreview(...e)),class:"inline-flex items-center px-4 py-2 bg-amber-500 border border-amber-600 rounded-md font-semibold text-white shadow-sm hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-colors duration-200"},t[20]||(t[20]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),(0,i.eW)(" Preview Invoice ")]))])]),(0,i.Lk)("div",ho,[(0,i.Lk)("button",{onClick:t[6]||(t[6]=t=>e.$emit("prev-section","taxes")),class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors duration-200 flex items-center"},t[21]||(t[21]=[(0,i.Lk)("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),(0,i.eW)(" Previous ")]))])])],512),[[re.aG,o.isActive]])])}o(116),o(7588);var xo={name:"TemplatesSection",props:{invoice:{type:Object,required:!0},isActive:{type:Boolean,default:!1},selectedTemplate:{type:Number,required:!0},templates:{type:Array,required:!0}},emits:["toggle-section","prev-section","update:selectedTemplate","update:invoice","update:templateStyle","update:templateLayout"],data(){return{templateColors:[{name:"Green",value:"green"},{name:"Blue",value:"blue"},{name:"Purple",value:"purple"},{name:"Amber",value:"amber"},{name:"Classic",value:"gray"}],previewAnimationInProgress:!1}},computed:{selectedTemplateObj(){return this.templates.find((e=>e.id===this.selectedTemplate))}},methods:{updateFooter(e){this.$emit("update:invoice",{...this.invoice,footer:e}),this.animatePreviewUpdate()},updateReference(e){this.$emit("update:invoice",{...this.invoice,reference:e}),this.animatePreviewUpdate()},selectTemplate(e){const t=this.templates.find((t=>t.id===e));t&&(this.$emit("update:selectedTemplate",e),t.style&&this.updateTemplateStyle(t.style),t.layout&&this.updateTemplateLayout(t.layout),this.animatePreviewUpdate())},updateTemplateStyle(e){this.$emit("update:templateStyle",e),document.querySelectorAll(".template-style-indicator").forEach((e=>{e.classList.remove("pulse-animation")})),setTimeout((()=>{document.querySelectorAll(".template-style-indicator").forEach((e=>{e.classList.add("pulse-animation")}))}),50),this.animatePreviewUpdate()},updateTemplateLayout(e){this.$emit("update:templateLayout",e),this.animatePreviewUpdate()},animatePreviewUpdate(){this.previewAnimationInProgress=!0,this.showUpdateToast(),setTimeout((()=>{this.previewAnimationInProgress=!1}),600)},scrollToPreview(){const e=document.querySelector(".invoice-preview")||document.querySelector(".lg\\:sticky");e&&(e.scrollIntoView({behavior:"smooth"}),e.classList.add("highlight-preview"),setTimeout((()=>{e.classList.remove("highlight-preview")}),1500))},showUpdateToast(){const e=document.createElement("div");e.className="fixed bottom-4 right-4 bg-green-100 border border-green-200 text-green-800 px-4 py-2 rounded-lg shadow-lg transform transition-all duration-300 z-50 toast-notification",e.innerText="Updating preview...",document.body.appendChild(e),setTimeout((()=>{e.classList.add("show")}),10),setTimeout((()=>{e.classList.remove("show"),setTimeout((()=>{document.body.removeChild(e)}),300)}),2e3)}}};const yo=(0,oe.A)(xo,[["render",ko],["__scopeId","data-v-d003d584"]]);var fo=yo;const Lo={class:"space-y-8"},wo={class:"bg-gradient-to-r from-gray-50 to-blue-50 p-6 rounded-xl"},Co={class:"text-xl font-medium text-gray-900 mb-4 flex items-center"},To={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},So={class:"relative overflow-hidden bg-white rounded-xl shadow-md border border-green-100 p-5 hover:shadow-lg transition-all duration-300 transform hover:scale-[1.02]"},Io={class:"flex items-end space-x-2"},Ao={class:"text-2xl font-bold text-green-600"},Do={class:"relative overflow-hidden bg-white rounded-xl shadow-md border border-blue-100 p-5 hover:shadow-lg transition-all duration-300 transform hover:scale-[1.02]"},jo={class:"space-y-3"},Bo={class:"flex justify-between"},Po={class:"font-medium text-blue-600"},Eo={class:"flex justify-between"},Mo={class:"font-medium text-blue-600"},Fo={class:"relative overflow-hidden bg-white rounded-xl shadow-md border border-purple-100 p-5 hover:shadow-lg transition-all duration-300 transform hover:scale-[1.02]"},No={class:"flex items-end space-x-2"},$o={class:"text-2xl font-bold text-purple-600"},Vo={class:"mt-3 grid grid-cols-12 gap-1"},qo={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},Uo={class:"text-lg font-medium text-gray-900 mb-4"},Xo={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},_o={class:"font-medium text-gray-800"},Ko={class:"text-sm text-gray-600 mt-1"},Wo={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},zo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ho={class:"flex items-start space-x-3"},Oo=["d"],Qo={class:"font-medium text-gray-900"},Ro={class:"text-sm text-gray-600 mt-1"};function Go(e,t,o,r,n,l){return(0,i.uX)(),(0,i.CE)("div",Lo,[(0,i.Lk)("section",wo,[(0,i.Lk)("h3",Co,[t[0]||(t[0]=(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),(0,i.eW)(" Tax Insights for "+(0,a.v_)(l.professionLabel),1)]),(0,i.Lk)("div",To,[(0,i.Lk)("div",So,[t[2]||(t[2]=(0,i.Lk)("div",{class:"absolute -right-4 -top-4 bg-gradient-to-br from-green-400 to-green-600 w-16 h-16 rounded-full opacity-10"},null,-1)),t[3]||(t[3]=(0,i.Lk)("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Monthly Income",-1)),(0,i.Lk)("div",Io,[(0,i.Lk)("span",Ao,(0,a.v_)(o.monthlyIncome),1),t[1]||(t[1]=(0,i.Lk)("span",{class:"text-sm text-gray-500 pb-1"},"per month",-1))]),t[4]||(t[4]=(0,i.Lk)("div",{class:"mt-3 text-sm text-gray-600"},[(0,i.Lk)("p",null,"Based on 1 similar project completed each month")],-1))]),(0,i.Lk)("div",Do,[t[9]||(t[9]=(0,i.Lk)("div",{class:"absolute -right-4 -top-4 bg-gradient-to-br from-blue-400 to-blue-600 w-16 h-16 rounded-full opacity-10"},null,-1)),t[10]||(t[10]=(0,i.Lk)("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Tax Breakdown",-1)),(0,i.Lk)("div",jo,[(0,i.Lk)("div",Bo,[t[5]||(t[5]=(0,i.Lk)("span",{class:"text-gray-600"},"VAT (16%)",-1)),(0,i.Lk)("span",Po,(0,a.v_)(o.vatAmount),1)]),t[7]||(t[7]=(0,i.Lk)("div",{class:"h-2 w-full bg-gray-100 rounded-full overflow-hidden"},[(0,i.Lk)("div",{class:"h-full bg-gradient-to-r from-blue-400 to-blue-600 rounded-full",style:{width:"16%"}})],-1)),(0,i.Lk)("div",Eo,[t[6]||(t[6]=(0,i.Lk)("span",{class:"text-gray-600"},"Digital Service Tax",-1)),(0,i.Lk)("span",Mo,(0,a.v_)(o.dstAmount),1)]),t[8]||(t[8]=(0,i.Lk)("div",{class:"h-2 w-full bg-gray-100 rounded-full overflow-hidden"},[(0,i.Lk)("div",{class:"h-full bg-gradient-to-r from-blue-400 to-blue-600 rounded-full",style:{width:"1.5%"}})],-1))])]),(0,i.Lk)("div",Fo,[t[12]||(t[12]=(0,i.Lk)("div",{class:"absolute -right-4 -top-4 bg-gradient-to-br from-purple-400 to-purple-600 w-16 h-16 rounded-full opacity-10"},null,-1)),t[13]||(t[13]=(0,i.Lk)("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"Annual Projection",-1)),(0,i.Lk)("div",No,[(0,i.Lk)("span",$o,(0,a.v_)(o.annualIncome),1),t[11]||(t[11]=(0,i.Lk)("span",{class:"text-sm text-gray-500 pb-1"},"per year",-1))]),(0,i.Lk)("div",Vo,[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(12,(e=>(0,i.Lk)("div",{key:e,class:"h-8 bg-gradient-to-t from-purple-500 to-purple-300 rounded-sm",style:(0,a.Tr)("opacity: "+(.4+.05*e))},null,4))),64))]),t[14]||(t[14]=(0,i.Lk)("div",{class:"mt-2 text-xs text-gray-500 text-center"},"Jan - Dec estimated income",-1))])])]),(0,i.Lk)("section",qo,[(0,i.Lk)("h3",Uo,"Tax Calendar for "+(0,a.v_)(l.professionLabel),1),(0,i.Lk)("div",Xo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.quarters,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.period,class:(0,a.C4)(`flex items-start space-x-3 p-3 border rounded-lg ${e.bgClass}`)},[(0,i.Lk)("div",{class:(0,a.C4)(["flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center",e.iconBg])},[(0,i.Lk)("span",{class:(0,a.C4)(e.textColor)},(0,a.v_)(e.period),3)],2),(0,i.Lk)("div",null,[(0,i.Lk)("h5",_o,(0,a.v_)(e.months),1),(0,i.Lk)("p",Ko,(0,a.v_)(e.description),1)])],2)))),128))])]),(0,i.Lk)("section",Wo,[t[15]||(t[15]=(0,i.Lk)("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Tax Planning Guide",-1)),(0,i.Lk)("div",zo,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.taxTips,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,a.C4)(["p-4 bg-gradient-to-br rounded-lg border transition-all duration-200",e.classes])},[(0,i.Lk)("div",Ho,[(0,i.Lk)("div",{class:(0,a.C4)(["p-2 rounded-lg",e.iconBg])},[((0,i.uX)(),(0,i.CE)("svg",{class:(0,a.C4)(["w-5 h-5",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,i.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e.icon},null,8,Oo)],2))],2),(0,i.Lk)("div",null,[(0,i.Lk)("h5",Qo,(0,a.v_)(e.title),1),(0,i.Lk)("p",Ro,(0,a.v_)(e.description),1)])])],2)))),128))])])])}var Yo={name:"TaxGuidePanel",props:{profession:{type:String,default:"designer"},monthlyIncome:{type:String,default:"KES 51,300"},vatAmount:{type:String,default:"KES 8,208"},dstAmount:{type:String,default:"KES 770"},annualIncome:{type:String,default:"KES 615,600"}},computed:{professionLabel(){const e={designer:"Designers",writer:"Writers",photographer:"Photographers",general:"Creatives"};return e[this.profession]||"Professionals"},quarters(){return[{period:"Q1",months:"January - March",description:"File VAT returns by 20th of each month",bgClass:"bg-green-50 border-green-100",iconBg:"bg-green-100",textColor:"text-green-600"},{period:"Q2",months:"April - June",description:"Income tax installment due by June 20th",bgClass:"bg-blue-50 border-blue-100",iconBg:"bg-blue-100",textColor:"text-blue-600"},{period:"Q3",months:"July - September",description:"Digital Service Tax due quarterly",bgClass:"bg-orange-50 border-orange-100",iconBg:"bg-orange-100",textColor:"text-orange-600"},{period:"Q4",months:"October - December",description:"Prepare for annual tax filing",bgClass:"bg-purple-50 border-purple-100",iconBg:"bg-purple-100",textColor:"text-purple-600"}]},taxTips(){return[{title:"Record Keeping",description:"Keep all receipts and invoices for 5 years",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",classes:"from-green-50 to-emerald-100 border-green-200 hover:border-green-300",iconBg:"bg-green-50",iconColor:"text-green-600"},{title:"Tax Deadlines",description:"Submit returns by the specified due dates",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",classes:"from-blue-50 to-indigo-100 border-blue-200 hover:border-blue-300",iconBg:"bg-blue-50",iconColor:"text-blue-600"},{title:"Deductions",description:"Track all business-related expenses",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z",classes:"from-purple-50 to-pink-100 border-purple-200 hover:border-purple-300",iconBg:"bg-purple-50",iconColor:"text-purple-600"},{title:"Digital Records",description:"Maintain digital copies of all transactions",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",classes:"from-teal-50 to-cyan-100 border-teal-200 hover:border-teal-300",iconBg:"bg-teal-50",iconColor:"text-teal-600"}]}}};const Jo=(0,oe.A)(Yo,[["render",Go]]);var Zo=Jo,ei={name:"InvoiceCreate",components:{InvoicePreview:ae,BrandingSection:je,BusinessSection:We,ClientSection:at,ItemsSection:Lt,AdditionalSection:Et,TaxSection:Gt,TemplatesSection:fo,TaxGuidePanel:Zo},setup(){const e=(0,P.lq)(),t=(0,P.rd)(),o=e.query.profession||"general",a=(0,B.KR)(!1),r=(0,B.KR)({title:`Professional ${e.query.professionLabel||"Creative"} Services`,invoiceNumber:`INV-${(new Date).getTime().toString().slice(-4)}`,date:(new Date).toISOString().split("T")[0],dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],from:{name:"",address:"",email:"",phone:"",vatNumber:"true"===e.query.isVATRegistered?"":void 0},client:{name:"",address:"",email:"",phone:""},items:[{description:`${e.query.professionLabel||"Professional"} Services`,quantity:1,rate:Number(Number(e.query.rate||3e3).toFixed(2)),details:e.query.skills?e.query.skills.split(",").map((e=>e.trim())):[]}],expenses:[],includeVAT:"true"===e.query.isVATRegistered,paymentInfo:["Bank: Your Bank Name","Account Number: Your Account Number","Branch: Your Branch"],pricingModel:"fixed",hoursWorked:0,wordCount:0,reference:"",footer:"",notes:"true"===e.query.hasPortfolio?"Portfolio and work samples available upon request.":""}),n=[{id:"branding",name:"Branding"},{id:"business",name:"Your Details"},{id:"client",name:"Client"},{id:"items",name:"Items"},{id:"additional",name:"Additional Info"},{id:"taxes",name:"Taxes"},{id:"templates",name:"Templates"}],l=(0,B.KR)("branding"),s=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"",d=async()=>{if(e.query.draftId&&e.query.edit){a.value=!0;try{const t=(0,E.H9)(M.db,"invoiceDrafts",e.query.draftId),o=await(0,E.x7)(t);if(o.exists()){const t=o.data();r.value={...t,draftId:e.query.draftId},m.value=t.theme||"green",g.value=t.addLogo||!1,p.value=t.logoData||"",b.value=t.includeDigitalServiceTax||!1}}catch(t){console.error("Error loading draft:",t),alert("Error loading draft: "+t.message)}finally{a.value=!1}}};(0,i.sV)((()=>{d()}));const c=(0,i.EW)((()=>n.findIndex((e=>e.id===l.value)))),u=(0,i.EW)((()=>["designer","writer"].includes(o))),v=[{color:"#10B981",value:"green"},{color:"#3B82F6",value:"blue"},{color:"#8B5CF6",value:"purple"},{color:"#EC4899",value:"pink"},{color:"#F59E0B",value:"yellow"}],m=(0,B.KR)("green"),g=(0,B.KR)(!1),p=(0,B.KR)(""),b=(0,B.KR)(["designer","writer"].includes(e.query.profession)),h=[{id:1,name:"Classic",description:"A professional classic invoice layout",style:"green",layout:"standard"},{id:2,name:"Modern",description:"Clean minimal design with contemporary feel",style:"blue",layout:"compact"},{id:3,name:"Minimal",description:"Streamlined design with essential elements only",style:"gray",layout:"detailed"}],k=(0,B.KR)(1),x=e=>{l.value=e},y=()=>{const e=n.findIndex((e=>e.id===l.value));e>0&&x(n[e-1].id)},f=()=>{const e=n.findIndex((e=>e.id===l.value));e<n.length-1&&x(n[e+1].id)},L=()=>{t.back()},w=async()=>{try{if(!M.j.currentUser)return alert("Please sign in to save drafts"),void t.push("/auth");const e={...r.value,logoData:p.value,theme:m.value,addLogo:g.value,includeDigitalServiceTax:b.value,status:"draft",createdAt:(0,E.O5)(),updatedAt:(0,E.O5)(),userId:M.j.currentUser.uid},o=r.value.draftId||`draft_${Date.now()}`,i=(0,E.H9)(M.db,"invoiceDrafts",o);await(0,E.BN)(i,e,{merge:!0}),r.value={...r.value,draftId:o},alert("Draft saved successfully")}catch(e){console.error("Error saving draft:",e),alert("Error saving draft: "+e.message)}},C=()=>{console.log("Downloading PDF...")},T=()=>{console.log("Sending invoice...")},S=e=>{m.value=e;const t=h.findIndex((e=>e.id===k.value));-1!==t&&(h[t].style=e),A()},I=e=>{const t=h.findIndex((e=>e.id===k.value));-1!==t&&(h[t].layout=e,r.value="compact"===e?{...r.value,compactLayout:!0,detailedLayout:!1}:"detailed"===e?{...r.value,compactLayout:!1,detailedLayout:!0}:{...r.value,compactLayout:!1,detailedLayout:!1}),A()},A=()=>{setTimeout((()=>{const e=document.querySelector(".preview-container");e&&(e.classList.add("highlight-preview"),setTimeout((()=>{e.classList.remove("highlight-preview")}),1500))}),50)},D=()=>{const e=r.value.items.reduce(((e,t)=>e+t.quantity*t.rate),0);return e},j=()=>{const e=D();return r.value.includeVAT?.16*e:0},F=()=>{const e=D();return b.value?.015*e:0},N=()=>12*D(),$=e=>`KES ${e.toLocaleString("en-KE",{minimumFractionDigits:0})}`;return{invoice:r,profession:o,isDigitalProfession:u,colorThemes:v,selectedTheme:m,addLogo:g,logoUrl:p,includeDigitalServiceTax:b,invoiceTemplates:h,selectedTemplate:k,formSections:n,activeSection:l,currentStepIndex:c,loading:a,titleCase:s,setActiveSection:x,navigateToPrevious:y,navigateToNext:f,saveDraft:w,downloadPDF:C,sendInvoice:T,goBack:L,updateTemplateStyle:S,updateTemplateLayout:I,calculateMonthlyIncome:D,calculateVAT:j,calculateDST:F,calculateAnnualIncome:N,formatCurrency:$}}};const ti=(0,oe.A)(ei,[["render",j],["__scopeId","data-v-8be5b6d4"]]);var oi=ti}}]);
//# sourceMappingURL=986.ad18ef1d.js.map